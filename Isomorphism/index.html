<!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../public/css/style.css">
  
  <title>Programming Language Foundations in Agda – Isomorphism</title>
  
  
  
</head>

    <body>
        <header class="site-header">
    <div class="wrapper">
        <a class="site-title" href="../">Programming Language Foundations in Agda</a>
        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="../">The Book</a>
                <a class="page-link" href="../Announcements/">Announcements</a>
                <a class="page-link" href="../GettingStarted/">Getting Started</a>
                <a class="page-link" href="../Citing/">Citing</a>
                <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a>
            </div>
        </nav>
    </div>
</header>

        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                <article class="post">
    <nav class="pager">
    <ul class="pagination">
        
        <li><a class="pagelink" href="../Equality/">Prev</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part1/Isomorphism.lagda.md">Source</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="../Connectives/">Next</a></li>
        <li class="separator">&bullet;</li>
        
    </ul>
</nav>

    <header class="post-header">
        <h1 class="post-title" id="isomorphism">Isomorphism: Isomorphism and Embedding</h1>
    </header>
    <div class="post-content">
        <pre class="Agda"><a id="159" class="Keyword">module</a> <a id="166" href="../Isomorphism/" class="Module">plfa.part1.Isomorphism</a> <a id="189" class="Keyword">where</a>
</pre>
<p>This section introduces isomorphism as a way of asserting that two types are equal, and embedding as a way of asserting that one type is smaller than another. We apply isomorphisms in the next chapter to demonstrate that operations on types such as product and sum satisfy properties akin to associativity, commutativity, and distributivity.</p>
<h2 id="imports">Imports</h2>
<pre class="Agda"><a id="560" class="Keyword">import</a> <a id="567" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="605" class="Symbol">as</a> <a id="608" class="Module">Eq</a>
<a id="611" class="Keyword">open</a> <a id="616" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="629" class="Symbol">;</a> <a id="631" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="635" class="Symbol">;</a> <a id="637" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a><a id="641" class="Symbol">;</a> <a id="643" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a><a id="651" class="Symbol">)</a>
<a id="653" class="Keyword">open</a> <a id="658" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2419" class="Module">Eq.≡-Reasoning</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="https://agda.github.io/agda-stdlib/v1.3/Data.Nat.html" class="Module">Data.Nat</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="702" class="Symbol">;</a> <a id="704" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="708" class="Symbol">;</a> <a id="710" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="713" class="Symbol">;</a> <a id="715" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="718" class="Symbol">)</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="https://agda.github.io/agda-stdlib/v1.3/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="752" class="Keyword">using</a> <a id="758" class="Symbol">(</a><a id="759" href="https://agda.github.io/agda-stdlib/v1.3/Data.Nat.Properties.html#12823" class="Function">+-comm</a><a id="765" class="Symbol">)</a>
</pre>
<h2 id="lambda-expressions">Lambda expressions</h2>
<p>The chapter begins with a few preliminaries that will be useful here and elsewhere: lambda expressions, function composition, and extensionality.</p>
<p><em>Lambda expressions</em> provide a compact way to define functions without naming them. A term of the form</p>
<pre><code>λ{ P₁ → N₁; ⋯ ; Pₙ → Nₙ }</code></pre>
<p>is equivalent to a function <code>f</code> defined by the equations</p>
<pre><code>f P₁ = N₁
⋯
f Pₙ = Nₙ</code></pre>
<p>where the <code>Pₙ</code> are patterns (left-hand sides of an equation) and the <code>Nₙ</code> are expressions (right-hand side of an equation).</p>
<p>In the case that there is one equation and the pattern is a variable, we may also use the syntax</p>
<pre><code>λ x → N</code></pre>
<p>or</p>
<pre><code>λ (x : A) → N</code></pre>
<p>both of which are equivalent to <code>λ{x → N}</code>. The latter allows one to specify the domain of the function.</p>
<p>Often using an anonymous lambda expression is more convenient than using a named function: it avoids a lengthy type declaration; and the definition appears exactly where the function is used, so there is no need for the writer to remember to declare it in advance, or for the reader to search for the definition in the code.</p>
<h2 id="function-composition">Function composition</h2>
In what follows, we will make use of function composition:
<pre class="Agda"><a id="_∘_"></a><a id="1952" href="../Isomorphism/#1952" class="Function Operator">_∘_</a> <a id="1956" class="Symbol">:</a> <a id="1958" class="Symbol">∀</a> <a id="1960" class="Symbol">{</a><a id="1961" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1963" href="../Isomorphism/#1963" class="Bound">B</a> <a id="1965" href="../Isomorphism/#1965" class="Bound">C</a> <a id="1967" class="Symbol">:</a> <a id="1969" class="PrimitiveType">Set</a><a id="1972" class="Symbol">}</a> <a id="1974" class="Symbol">→</a> <a id="1976" class="Symbol">(</a><a id="1977" href="../Isomorphism/#1963" class="Bound">B</a> <a id="1979" class="Symbol">→</a> <a id="1981" href="../Isomorphism/#1965" class="Bound">C</a><a id="1982" class="Symbol">)</a> <a id="1984" class="Symbol">→</a> <a id="1986" class="Symbol">(</a><a id="1987" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="../Isomorphism/#1963" class="Bound">B</a><a id="1992" class="Symbol">)</a> <a id="1994" class="Symbol">→</a> <a id="1996" class="Symbol">(</a><a id="1997" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1999" class="Symbol">→</a> <a id="2001" href="../Isomorphism/#1965" class="Bound">C</a><a id="2002" class="Symbol">)</a>
<a id="2004" class="Symbol">(</a><a id="2005" href="../Isomorphism/#2005" class="Bound">g</a> <a id="2007" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="2009" href="../Isomorphism/#2009" class="Bound">f</a><a id="2010" class="Symbol">)</a> <a id="2012" href="../Isomorphism/#2012" class="Bound">x</a>  <a id="2015" class="Symbol">=</a> <a id="2017" href="../Isomorphism/#2005" class="Bound">g</a> <a id="2019" class="Symbol">(</a><a id="2020" href="../Isomorphism/#2009" class="Bound">f</a> <a id="2022" href="../Isomorphism/#2012" class="Bound">x</a><a id="2023" class="Symbol">)</a>
</pre>
Thus, <code>g ∘ f</code> is the function that first applies <code>f</code> and then applies <code>g</code>. An equivalent definition, exploiting lambda expressions, is as follows:
<pre class="Agda"><a id="_∘′_"></a><a id="2181" href="../Isomorphism/#2181" class="Function Operator">_∘′_</a> <a id="2186" class="Symbol">:</a> <a id="2188" class="Symbol">∀</a> <a id="2190" class="Symbol">{</a><a id="2191" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2193" href="../Isomorphism/#2193" class="Bound">B</a> <a id="2195" href="../Isomorphism/#2195" class="Bound">C</a> <a id="2197" class="Symbol">:</a> <a id="2199" class="PrimitiveType">Set</a><a id="2202" class="Symbol">}</a> <a id="2204" class="Symbol">→</a> <a id="2206" class="Symbol">(</a><a id="2207" href="../Isomorphism/#2193" class="Bound">B</a> <a id="2209" class="Symbol">→</a> <a id="2211" href="../Isomorphism/#2195" class="Bound">C</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">→</a> <a id="2216" class="Symbol">(</a><a id="2217" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2219" class="Symbol">→</a> <a id="2221" href="../Isomorphism/#2193" class="Bound">B</a><a id="2222" class="Symbol">)</a> <a id="2224" class="Symbol">→</a> <a id="2226" class="Symbol">(</a><a id="2227" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2229" class="Symbol">→</a> <a id="2231" href="../Isomorphism/#2195" class="Bound">C</a><a id="2232" class="Symbol">)</a>
<a id="2234" href="../Isomorphism/#2234" class="Bound">g</a> <a id="2236" href="../Isomorphism/#2181" class="Function Operator">∘′</a> <a id="2239" href="../Isomorphism/#2239" class="Bound">f</a>  <a id="2242" class="Symbol">=</a>  <a id="2245" class="Symbol">λ</a> <a id="2247" href="../Isomorphism/#2247" class="Bound">x</a> <a id="2249" class="Symbol">→</a> <a id="2251" href="../Isomorphism/#2234" class="Bound">g</a> <a id="2253" class="Symbol">(</a><a id="2254" href="../Isomorphism/#2239" class="Bound">f</a> <a id="2256" href="../Isomorphism/#2247" class="Bound">x</a><a id="2257" class="Symbol">)</a>
</pre>
<h2 id="extensionality">Extensionality</h2>
<p>Extensionality asserts that the only way to distinguish functions is by applying them; if two functions applied to the same argument always yield the same result, then they are the same function. It is the converse of <code>cong-app</code>, as introduced <a href="../Equality/#cong">earlier</a>.</p>
Agda does not presume extensionality, but we can postulate that it holds:
<pre class="Agda"><a id="2654" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="2666" href="../Isomorphism/#2666" class="Postulate">extensionality</a> <a id="2681" class="Symbol">:</a> <a id="2683" class="Symbol">∀</a> <a id="2685" class="Symbol">{</a><a id="2686" href="../Isomorphism/#2686" class="Bound">A</a> <a id="2688" href="../Isomorphism/#2688" class="Bound">B</a> <a id="2690" class="Symbol">:</a> <a id="2692" class="PrimitiveType">Set</a><a id="2695" class="Symbol">}</a> <a id="2697" class="Symbol">{</a><a id="2698" href="../Isomorphism/#2698" class="Bound">f</a> <a id="2700" href="../Isomorphism/#2700" class="Bound">g</a> <a id="2702" class="Symbol">:</a> <a id="2704" href="../Isomorphism/#2686" class="Bound">A</a> <a id="2706" class="Symbol">→</a> <a id="2708" href="../Isomorphism/#2688" class="Bound">B</a><a id="2709" class="Symbol">}</a>
    <a id="2715" class="Symbol">→</a> <a id="2717" class="Symbol">(∀</a> <a id="2720" class="Symbol">(</a><a id="2721" href="../Isomorphism/#2721" class="Bound">x</a> <a id="2723" class="Symbol">:</a> <a id="2725" href="../Isomorphism/#2686" class="Bound">A</a><a id="2726" class="Symbol">)</a> <a id="2728" class="Symbol">→</a> <a id="2730" href="../Isomorphism/#2698" class="Bound">f</a> <a id="2732" href="../Isomorphism/#2721" class="Bound">x</a> <a id="2734" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2736" href="../Isomorphism/#2700" class="Bound">g</a> <a id="2738" href="../Isomorphism/#2721" class="Bound">x</a><a id="2739" class="Symbol">)</a>
      <a id="2747" class="Comment">-----------------------</a>
    <a id="2775" class="Symbol">→</a> <a id="2777" href="../Isomorphism/#2698" class="Bound">f</a> <a id="2779" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2781" href="../Isomorphism/#2700" class="Bound">g</a>
</pre>
<p>Postulating extensionality does not lead to difficulties, as it is known to be consistent with the theory that underlies Agda.</p>
As an example, consider that we need results from two libraries, one where addition is defined, as in Chapter <a href="../Naturals/">Naturals</a>, and one where it is defined the other way around.
<pre class="Agda"><a id="_+′_"></a><a id="3103" href="../Isomorphism/#3103" class="Function Operator">_+′_</a> <a id="3108" class="Symbol">:</a> <a id="3110" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3112" class="Symbol">→</a> <a id="3114" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3116" class="Symbol">→</a> <a id="3118" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="3120" href="../Isomorphism/#3120" class="Bound">m</a> <a id="3122" href="../Isomorphism/#3103" class="Function Operator">+′</a> <a id="3125" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="3131" class="Symbol">=</a> <a id="3133" href="../Isomorphism/#3120" class="Bound">m</a>
<a id="3135" href="../Isomorphism/#3135" class="Bound">m</a> <a id="3137" href="../Isomorphism/#3103" class="Function Operator">+′</a> <a id="3140" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3144" href="../Isomorphism/#3144" class="Bound">n</a> <a id="3146" class="Symbol">=</a> <a id="3148" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3152" class="Symbol">(</a><a id="3153" href="../Isomorphism/#3135" class="Bound">m</a> <a id="3155" href="../Isomorphism/#3103" class="Function Operator">+′</a> <a id="3158" href="../Isomorphism/#3144" class="Bound">n</a><a id="3159" class="Symbol">)</a>
</pre>
Applying commutativity, it is easy to show that both operators always return the same result given the same arguments:
<pre class="Agda"><a id="same-app"></a><a id="3288" href="../Isomorphism/#3288" class="Function">same-app</a> <a id="3297" class="Symbol">:</a> <a id="3299" class="Symbol">∀</a> <a id="3301" class="Symbol">(</a><a id="3302" href="../Isomorphism/#3302" class="Bound">m</a> <a id="3304" href="../Isomorphism/#3304" class="Bound">n</a> <a id="3306" class="Symbol">:</a> <a id="3308" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3309" class="Symbol">)</a> <a id="3311" class="Symbol">→</a> <a id="3313" href="../Isomorphism/#3302" class="Bound">m</a> <a id="3315" href="../Isomorphism/#3103" class="Function Operator">+′</a> <a id="3318" href="../Isomorphism/#3304" class="Bound">n</a> <a id="3320" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3322" href="../Isomorphism/#3302" class="Bound">m</a> <a id="3324" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3326" href="../Isomorphism/#3304" class="Bound">n</a>
<a id="3328" href="../Isomorphism/#3288" class="Function">same-app</a> <a id="3337" href="../Isomorphism/#3337" class="Bound">m</a> <a id="3339" href="../Isomorphism/#3339" class="Bound">n</a> <a id="3341" class="Keyword">rewrite</a> <a id="3349" href="https://agda.github.io/agda-stdlib/v1.3/Data.Nat.Properties.html#12823" class="Function">+-comm</a> <a id="3356" href="../Isomorphism/#3337" class="Bound">m</a> <a id="3358" href="../Isomorphism/#3339" class="Bound">n</a> <a id="3360" class="Symbol">=</a> <a id="3362" href="../Isomorphism/#3383" class="Function">helper</a> <a id="3369" href="../Isomorphism/#3337" class="Bound">m</a> <a id="3371" href="../Isomorphism/#3339" class="Bound">n</a>
  <a id="3375" class="Keyword">where</a>
  <a id="3383" href="../Isomorphism/#3383" class="Function">helper</a> <a id="3390" class="Symbol">:</a> <a id="3392" class="Symbol">∀</a> <a id="3394" class="Symbol">(</a><a id="3395" href="../Isomorphism/#3395" class="Bound">m</a> <a id="3397" href="../Isomorphism/#3397" class="Bound">n</a> <a id="3399" class="Symbol">:</a> <a id="3401" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3402" class="Symbol">)</a> <a id="3404" class="Symbol">→</a> <a id="3406" href="../Isomorphism/#3395" class="Bound">m</a> <a id="3408" href="../Isomorphism/#3103" class="Function Operator">+′</a> <a id="3411" href="../Isomorphism/#3397" class="Bound">n</a> <a id="3413" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3415" href="../Isomorphism/#3397" class="Bound">n</a> <a id="3417" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3419" href="../Isomorphism/#3395" class="Bound">m</a>
  <a id="3423" href="../Isomorphism/#3383" class="Function">helper</a> <a id="3430" href="../Isomorphism/#3430" class="Bound">m</a> <a id="3432" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="3440" class="Symbol">=</a> <a id="3442" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="3449" href="../Isomorphism/#3383" class="Function">helper</a> <a id="3456" href="../Isomorphism/#3456" class="Bound">m</a> <a id="3458" class="Symbol">(</a><a id="3459" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3463" href="../Isomorphism/#3463" class="Bound">n</a><a id="3464" class="Symbol">)</a> <a id="3466" class="Symbol">=</a> <a id="3468" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="3473" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3477" class="Symbol">(</a><a id="3478" href="../Isomorphism/#3383" class="Function">helper</a> <a id="3485" href="../Isomorphism/#3456" class="Bound">m</a> <a id="3487" href="../Isomorphism/#3463" class="Bound">n</a><a id="3488" class="Symbol">)</a>
</pre>
However, it might be convenient to assert that the two operators are actually indistinguishable. This we can do via two applications of extensionality:
<pre class="Agda"><a id="same"></a><a id="3650" href="../Isomorphism/#3650" class="Function">same</a> <a id="3655" class="Symbol">:</a> <a id="3657" href="../Isomorphism/#3103" class="Function Operator">_+′_</a> <a id="3662" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3664" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a>
<a id="3668" href="../Isomorphism/#3650" class="Function">same</a> <a id="3673" class="Symbol">=</a> <a id="3675" href="../Isomorphism/#2666" class="Postulate">extensionality</a> <a id="3690" class="Symbol">(λ</a> <a id="3693" href="../Isomorphism/#3693" class="Bound">m</a> <a id="3695" class="Symbol">→</a> <a id="3697" href="../Isomorphism/#2666" class="Postulate">extensionality</a> <a id="3712" class="Symbol">(λ</a> <a id="3715" href="../Isomorphism/#3715" class="Bound">n</a> <a id="3717" class="Symbol">→</a> <a id="3719" href="../Isomorphism/#3288" class="Function">same-app</a> <a id="3728" href="../Isomorphism/#3693" class="Bound">m</a> <a id="3730" href="../Isomorphism/#3715" class="Bound">n</a><a id="3731" class="Symbol">))</a>
</pre>
<p>We occasionally need to postulate extensionality in what follows.</p>
More generally, we may wish to postulate extensionality for dependent functions.
<pre class="Agda"><a id="3890" class="Keyword">postulate</a>
  <a id="∀-extensionality"></a><a id="3902" href="../Isomorphism/#3902" class="Postulate">∀-extensionality</a> <a id="3919" class="Symbol">:</a> <a id="3921" class="Symbol">∀</a> <a id="3923" class="Symbol">{</a><a id="3924" href="../Isomorphism/#3924" class="Bound">A</a> <a id="3926" class="Symbol">:</a> <a id="3928" class="PrimitiveType">Set</a><a id="3931" class="Symbol">}</a> <a id="3933" class="Symbol">{</a><a id="3934" href="../Isomorphism/#3934" class="Bound">B</a> <a id="3936" class="Symbol">:</a> <a id="3938" href="../Isomorphism/#3924" class="Bound">A</a> <a id="3940" class="Symbol">→</a> <a id="3942" class="PrimitiveType">Set</a><a id="3945" class="Symbol">}</a> <a id="3947" class="Symbol">{</a><a id="3948" href="../Isomorphism/#3948" class="Bound">f</a> <a id="3950" href="../Isomorphism/#3950" class="Bound">g</a> <a id="3952" class="Symbol">:</a> <a id="3954" class="Symbol">∀(</a><a id="3956" href="../Isomorphism/#3956" class="Bound">x</a> <a id="3958" class="Symbol">:</a> <a id="3960" href="../Isomorphism/#3924" class="Bound">A</a><a id="3961" class="Symbol">)</a> <a id="3963" class="Symbol">→</a> <a id="3965" href="../Isomorphism/#3934" class="Bound">B</a> <a id="3967" href="../Isomorphism/#3956" class="Bound">x</a><a id="3968" class="Symbol">}</a>
    <a id="3974" class="Symbol">→</a> <a id="3976" class="Symbol">(∀</a> <a id="3979" class="Symbol">(</a><a id="3980" href="../Isomorphism/#3980" class="Bound">x</a> <a id="3982" class="Symbol">:</a> <a id="3984" href="../Isomorphism/#3924" class="Bound">A</a><a id="3985" class="Symbol">)</a> <a id="3987" class="Symbol">→</a> <a id="3989" href="../Isomorphism/#3948" class="Bound">f</a> <a id="3991" href="../Isomorphism/#3980" class="Bound">x</a> <a id="3993" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3995" href="../Isomorphism/#3950" class="Bound">g</a> <a id="3997" href="../Isomorphism/#3980" class="Bound">x</a><a id="3998" class="Symbol">)</a>
      <a id="4006" class="Comment">-----------------------</a>
    <a id="4034" class="Symbol">→</a> <a id="4036" href="../Isomorphism/#3948" class="Bound">f</a> <a id="4038" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4040" href="../Isomorphism/#3950" class="Bound">g</a>
</pre>
<p>Here the type of <code>f</code> and <code>g</code> has changed from <code>A → B</code> to <code>∀ (x : A) → B x</code>, generalising ordinary functions to dependent functions.</p>
<h2 id="isomorphism">Isomorphism</h2>
Two sets are isomorphic if they are in one-to-one correspondence. Here is a formal definition of isomorphism:
<pre class="Agda"><a id="4310" class="Keyword">infix</a> <a id="4316" class="Number">0</a> <a id="4318" href="../Isomorphism/#4329" class="Record Operator">_≃_</a>
<a id="4322" class="Keyword">record</a> <a id="_≃_"></a><a id="4329" href="../Isomorphism/#4329" class="Record Operator">_≃_</a> <a id="4333" class="Symbol">(</a><a id="4334" href="../Isomorphism/#4334" class="Bound">A</a> <a id="4336" href="../Isomorphism/#4336" class="Bound">B</a> <a id="4338" class="Symbol">:</a> <a id="4340" class="PrimitiveType">Set</a><a id="4343" class="Symbol">)</a> <a id="4345" class="Symbol">:</a> <a id="4347" class="PrimitiveType">Set</a> <a id="4351" class="Keyword">where</a>
  <a id="4359" class="Keyword">field</a>
    <a id="_≃_.to"></a><a id="4369" href="../Isomorphism/#4369" class="Field">to</a>   <a id="4374" class="Symbol">:</a> <a id="4376" href="../Isomorphism/#4334" class="Bound">A</a> <a id="4378" class="Symbol">→</a> <a id="4380" href="../Isomorphism/#4336" class="Bound">B</a>
    <a id="_≃_.from"></a><a id="4386" href="../Isomorphism/#4386" class="Field">from</a> <a id="4391" class="Symbol">:</a> <a id="4393" href="../Isomorphism/#4336" class="Bound">B</a> <a id="4395" class="Symbol">→</a> <a id="4397" href="../Isomorphism/#4334" class="Bound">A</a>
    <a id="_≃_.from∘to"></a><a id="4403" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="4411" class="Symbol">:</a> <a id="4413" class="Symbol">∀</a> <a id="4415" class="Symbol">(</a><a id="4416" href="../Isomorphism/#4416" class="Bound">x</a> <a id="4418" class="Symbol">:</a> <a id="4420" href="../Isomorphism/#4334" class="Bound">A</a><a id="4421" class="Symbol">)</a> <a id="4423" class="Symbol">→</a> <a id="4425" href="../Isomorphism/#4386" class="Field">from</a> <a id="4430" class="Symbol">(</a><a id="4431" href="../Isomorphism/#4369" class="Field">to</a> <a id="4434" href="../Isomorphism/#4416" class="Bound">x</a><a id="4435" class="Symbol">)</a> <a id="4437" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4439" href="../Isomorphism/#4416" class="Bound">x</a>
    <a id="_≃_.to∘from"></a><a id="4445" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="4453" class="Symbol">:</a> <a id="4455" class="Symbol">∀</a> <a id="4457" class="Symbol">(</a><a id="4458" href="../Isomorphism/#4458" class="Bound">y</a> <a id="4460" class="Symbol">:</a> <a id="4462" href="../Isomorphism/#4336" class="Bound">B</a><a id="4463" class="Symbol">)</a> <a id="4465" class="Symbol">→</a> <a id="4467" href="../Isomorphism/#4369" class="Field">to</a> <a id="4470" class="Symbol">(</a><a id="4471" href="../Isomorphism/#4386" class="Field">from</a> <a id="4476" href="../Isomorphism/#4458" class="Bound">y</a><a id="4477" class="Symbol">)</a> <a id="4479" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4481" href="../Isomorphism/#4458" class="Bound">y</a>
<a id="4483" class="Keyword">open</a> <a id="4488" href="../Isomorphism/#4329" class="Module Operator">_≃_</a>
</pre>
<p>Let’s unpack the definition. An isomorphism between sets <code>A</code> and <code>B</code> consists of four things: + A function <code>to</code> from <code>A</code> to <code>B</code>, + A function <code>from</code> from <code>B</code> back to <code>A</code>, + Evidence <code>from∘to</code> asserting that <code>from</code> is a <em>left-inverse</em> for <code>to</code>, + Evidence <code>to∘from</code> asserting that <code>from</code> is a <em>right-inverse</em> for <code>to</code>.</p>
<p>In particular, the third asserts that <code>from ∘ to</code> is the identity, and the fourth that <code>to ∘ from</code> is the identity, hence the names. The declaration <code>open _≃_</code> makes available the names <code>to</code>, <code>from</code>, <code>from∘to</code>, and <code>to∘from</code>, otherwise we would need to write <code>_≃_.to</code> and so on.</p>
The above is our first use of records. A record declaration behaves similar to a single-constructor data declaration (there are minor differences, which we discuss in <a href="../Connectives/">Connectives</a>):
<pre class="Agda"><a id="5297" class="Keyword">data</a> <a id="_≃′_"></a><a id="5302" href="../Isomorphism/#5302" class="Datatype Operator">_≃′_</a> <a id="5307" class="Symbol">(</a><a id="5308" href="../Isomorphism/#5308" class="Bound">A</a> <a id="5310" href="../Isomorphism/#5310" class="Bound">B</a> <a id="5312" class="Symbol">:</a> <a id="5314" class="PrimitiveType">Set</a><a id="5317" class="Symbol">):</a> <a id="5320" class="PrimitiveType">Set</a> <a id="5324" class="Keyword">where</a>
  <a id="_≃′_.mk-≃′"></a><a id="5332" href="../Isomorphism/#5332" class="InductiveConstructor">mk-≃′</a> <a id="5338" class="Symbol">:</a> <a id="5340" class="Symbol">∀</a> <a id="5342" class="Symbol">(</a><a id="5343" href="../Isomorphism/#5343" class="Bound">to</a> <a id="5346" class="Symbol">:</a> <a id="5348" href="../Isomorphism/#5308" class="Bound">A</a> <a id="5350" class="Symbol">→</a> <a id="5352" href="../Isomorphism/#5310" class="Bound">B</a><a id="5353" class="Symbol">)</a> <a id="5355" class="Symbol">→</a>
          <a id="5367" class="Symbol">∀</a> <a id="5369" class="Symbol">(</a><a id="5370" href="../Isomorphism/#5370" class="Bound">from</a> <a id="5375" class="Symbol">:</a> <a id="5377" href="../Isomorphism/#5310" class="Bound">B</a> <a id="5379" class="Symbol">→</a> <a id="5381" href="../Isomorphism/#5308" class="Bound">A</a><a id="5382" class="Symbol">)</a> <a id="5384" class="Symbol">→</a>
          <a id="5396" class="Symbol">∀</a> <a id="5398" class="Symbol">(</a><a id="5399" href="../Isomorphism/#5399" class="Bound">from∘to</a> <a id="5407" class="Symbol">:</a> <a id="5409" class="Symbol">(∀</a> <a id="5412" class="Symbol">(</a><a id="5413" href="../Isomorphism/#5413" class="Bound">x</a> <a id="5415" class="Symbol">:</a> <a id="5417" href="../Isomorphism/#5308" class="Bound">A</a><a id="5418" class="Symbol">)</a> <a id="5420" class="Symbol">→</a> <a id="5422" href="../Isomorphism/#5370" class="Bound">from</a> <a id="5427" class="Symbol">(</a><a id="5428" href="../Isomorphism/#5343" class="Bound">to</a> <a id="5431" href="../Isomorphism/#5413" class="Bound">x</a><a id="5432" class="Symbol">)</a> <a id="5434" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5436" href="../Isomorphism/#5413" class="Bound">x</a><a id="5437" class="Symbol">))</a> <a id="5440" class="Symbol">→</a>
          <a id="5452" class="Symbol">∀</a> <a id="5454" class="Symbol">(</a><a id="5455" href="../Isomorphism/#5455" class="Bound">to∘from</a> <a id="5463" class="Symbol">:</a> <a id="5465" class="Symbol">(∀</a> <a id="5468" class="Symbol">(</a><a id="5469" href="../Isomorphism/#5469" class="Bound">y</a> <a id="5471" class="Symbol">:</a> <a id="5473" href="../Isomorphism/#5310" class="Bound">B</a><a id="5474" class="Symbol">)</a> <a id="5476" class="Symbol">→</a> <a id="5478" href="../Isomorphism/#5343" class="Bound">to</a> <a id="5481" class="Symbol">(</a><a id="5482" href="../Isomorphism/#5370" class="Bound">from</a> <a id="5487" href="../Isomorphism/#5469" class="Bound">y</a><a id="5488" class="Symbol">)</a> <a id="5490" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5492" href="../Isomorphism/#5469" class="Bound">y</a><a id="5493" class="Symbol">))</a> <a id="5496" class="Symbol">→</a>
          <a id="5508" href="../Isomorphism/#5308" class="Bound">A</a> <a id="5510" href="../Isomorphism/#5302" class="Datatype Operator">≃′</a> <a id="5513" href="../Isomorphism/#5310" class="Bound">B</a>

<a id="to′"></a><a id="5516" href="../Isomorphism/#5516" class="Function">to′</a> <a id="5520" class="Symbol">:</a> <a id="5522" class="Symbol">∀</a> <a id="5524" class="Symbol">{</a><a id="5525" href="../Isomorphism/#5525" class="Bound">A</a> <a id="5527" href="../Isomorphism/#5527" class="Bound">B</a> <a id="5529" class="Symbol">:</a> <a id="5531" class="PrimitiveType">Set</a><a id="5534" class="Symbol">}</a> <a id="5536" class="Symbol">→</a> <a id="5538" class="Symbol">(</a><a id="5539" href="../Isomorphism/#5525" class="Bound">A</a> <a id="5541" href="../Isomorphism/#5302" class="Datatype Operator">≃′</a> <a id="5544" href="../Isomorphism/#5527" class="Bound">B</a><a id="5545" class="Symbol">)</a> <a id="5547" class="Symbol">→</a> <a id="5549" class="Symbol">(</a><a id="5550" href="../Isomorphism/#5525" class="Bound">A</a> <a id="5552" class="Symbol">→</a> <a id="5554" href="../Isomorphism/#5527" class="Bound">B</a><a id="5555" class="Symbol">)</a>
<a id="5557" href="../Isomorphism/#5516" class="Function">to′</a> <a id="5561" class="Symbol">(</a><a id="5562" href="../Isomorphism/#5332" class="InductiveConstructor">mk-≃′</a> <a id="5568" href="../Isomorphism/#5568" class="Bound">f</a> <a id="5570" href="../Isomorphism/#5570" class="Bound">g</a> <a id="5572" href="../Isomorphism/#5572" class="Bound">g∘f</a> <a id="5576" href="../Isomorphism/#5576" class="Bound">f∘g</a><a id="5579" class="Symbol">)</a> <a id="5581" class="Symbol">=</a> <a id="5583" href="../Isomorphism/#5568" class="Bound">f</a>

<a id="from′"></a><a id="5586" href="../Isomorphism/#5586" class="Function">from′</a> <a id="5592" class="Symbol">:</a> <a id="5594" class="Symbol">∀</a> <a id="5596" class="Symbol">{</a><a id="5597" href="../Isomorphism/#5597" class="Bound">A</a> <a id="5599" href="../Isomorphism/#5599" class="Bound">B</a> <a id="5601" class="Symbol">:</a> <a id="5603" class="PrimitiveType">Set</a><a id="5606" class="Symbol">}</a> <a id="5608" class="Symbol">→</a> <a id="5610" class="Symbol">(</a><a id="5611" href="../Isomorphism/#5597" class="Bound">A</a> <a id="5613" href="../Isomorphism/#5302" class="Datatype Operator">≃′</a> <a id="5616" href="../Isomorphism/#5599" class="Bound">B</a><a id="5617" class="Symbol">)</a> <a id="5619" class="Symbol">→</a> <a id="5621" class="Symbol">(</a><a id="5622" href="../Isomorphism/#5599" class="Bound">B</a> <a id="5624" class="Symbol">→</a> <a id="5626" href="../Isomorphism/#5597" class="Bound">A</a><a id="5627" class="Symbol">)</a>
<a id="5629" href="../Isomorphism/#5586" class="Function">from′</a> <a id="5635" class="Symbol">(</a><a id="5636" href="../Isomorphism/#5332" class="InductiveConstructor">mk-≃′</a> <a id="5642" href="../Isomorphism/#5642" class="Bound">f</a> <a id="5644" href="../Isomorphism/#5644" class="Bound">g</a> <a id="5646" href="../Isomorphism/#5646" class="Bound">g∘f</a> <a id="5650" href="../Isomorphism/#5650" class="Bound">f∘g</a><a id="5653" class="Symbol">)</a> <a id="5655" class="Symbol">=</a> <a id="5657" href="../Isomorphism/#5644" class="Bound">g</a>

<a id="from∘to′"></a><a id="5660" href="../Isomorphism/#5660" class="Function">from∘to′</a> <a id="5669" class="Symbol">:</a> <a id="5671" class="Symbol">∀</a> <a id="5673" class="Symbol">{</a><a id="5674" href="../Isomorphism/#5674" class="Bound">A</a> <a id="5676" href="../Isomorphism/#5676" class="Bound">B</a> <a id="5678" class="Symbol">:</a> <a id="5680" class="PrimitiveType">Set</a><a id="5683" class="Symbol">}</a> <a id="5685" class="Symbol">→</a> <a id="5687" class="Symbol">(</a><a id="5688" href="../Isomorphism/#5688" class="Bound">A≃B</a> <a id="5692" class="Symbol">:</a> <a id="5694" href="../Isomorphism/#5674" class="Bound">A</a> <a id="5696" href="../Isomorphism/#5302" class="Datatype Operator">≃′</a> <a id="5699" href="../Isomorphism/#5676" class="Bound">B</a><a id="5700" class="Symbol">)</a> <a id="5702" class="Symbol">→</a> <a id="5704" class="Symbol">(∀</a> <a id="5707" class="Symbol">(</a><a id="5708" href="../Isomorphism/#5708" class="Bound">x</a> <a id="5710" class="Symbol">:</a> <a id="5712" href="../Isomorphism/#5674" class="Bound">A</a><a id="5713" class="Symbol">)</a> <a id="5715" class="Symbol">→</a> <a id="5717" href="../Isomorphism/#5586" class="Function">from′</a> <a id="5723" href="../Isomorphism/#5688" class="Bound">A≃B</a> <a id="5727" class="Symbol">(</a><a id="5728" href="../Isomorphism/#5516" class="Function">to′</a> <a id="5732" href="../Isomorphism/#5688" class="Bound">A≃B</a> <a id="5736" href="../Isomorphism/#5708" class="Bound">x</a><a id="5737" class="Symbol">)</a> <a id="5739" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5741" href="../Isomorphism/#5708" class="Bound">x</a><a id="5742" class="Symbol">)</a>
<a id="5744" href="../Isomorphism/#5660" class="Function">from∘to′</a> <a id="5753" class="Symbol">(</a><a id="5754" href="../Isomorphism/#5332" class="InductiveConstructor">mk-≃′</a> <a id="5760" href="../Isomorphism/#5760" class="Bound">f</a> <a id="5762" href="../Isomorphism/#5762" class="Bound">g</a> <a id="5764" href="../Isomorphism/#5764" class="Bound">g∘f</a> <a id="5768" href="../Isomorphism/#5768" class="Bound">f∘g</a><a id="5771" class="Symbol">)</a> <a id="5773" class="Symbol">=</a> <a id="5775" href="../Isomorphism/#5764" class="Bound">g∘f</a>

<a id="to∘from′"></a><a id="5780" href="../Isomorphism/#5780" class="Function">to∘from′</a> <a id="5789" class="Symbol">:</a> <a id="5791" class="Symbol">∀</a> <a id="5793" class="Symbol">{</a><a id="5794" href="../Isomorphism/#5794" class="Bound">A</a> <a id="5796" href="../Isomorphism/#5796" class="Bound">B</a> <a id="5798" class="Symbol">:</a> <a id="5800" class="PrimitiveType">Set</a><a id="5803" class="Symbol">}</a> <a id="5805" class="Symbol">→</a> <a id="5807" class="Symbol">(</a><a id="5808" href="../Isomorphism/#5808" class="Bound">A≃B</a> <a id="5812" class="Symbol">:</a> <a id="5814" href="../Isomorphism/#5794" class="Bound">A</a> <a id="5816" href="../Isomorphism/#5302" class="Datatype Operator">≃′</a> <a id="5819" href="../Isomorphism/#5796" class="Bound">B</a><a id="5820" class="Symbol">)</a> <a id="5822" class="Symbol">→</a> <a id="5824" class="Symbol">(∀</a> <a id="5827" class="Symbol">(</a><a id="5828" href="../Isomorphism/#5828" class="Bound">y</a> <a id="5830" class="Symbol">:</a> <a id="5832" href="../Isomorphism/#5796" class="Bound">B</a><a id="5833" class="Symbol">)</a> <a id="5835" class="Symbol">→</a> <a id="5837" href="../Isomorphism/#5516" class="Function">to′</a> <a id="5841" href="../Isomorphism/#5808" class="Bound">A≃B</a> <a id="5845" class="Symbol">(</a><a id="5846" href="../Isomorphism/#5586" class="Function">from′</a> <a id="5852" href="../Isomorphism/#5808" class="Bound">A≃B</a> <a id="5856" href="../Isomorphism/#5828" class="Bound">y</a><a id="5857" class="Symbol">)</a> <a id="5859" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5861" href="../Isomorphism/#5828" class="Bound">y</a><a id="5862" class="Symbol">)</a>
<a id="5864" href="../Isomorphism/#5780" class="Function">to∘from′</a> <a id="5873" class="Symbol">(</a><a id="5874" href="../Isomorphism/#5332" class="InductiveConstructor">mk-≃′</a> <a id="5880" href="../Isomorphism/#5880" class="Bound">f</a> <a id="5882" href="../Isomorphism/#5882" class="Bound">g</a> <a id="5884" href="../Isomorphism/#5884" class="Bound">g∘f</a> <a id="5888" href="../Isomorphism/#5888" class="Bound">f∘g</a><a id="5891" class="Symbol">)</a> <a id="5893" class="Symbol">=</a> <a id="5895" href="../Isomorphism/#5888" class="Bound">f∘g</a>
</pre>
<p>We construct values of the record type with the syntax</p>
<pre><code>record
  { to    = f
  ; from  = g
  ; from∘to = g∘f
  ; to∘from = f∘g
  }</code></pre>
<p>which corresponds to using the constructor of the corresponding inductive type</p>
<pre><code>mk-≃′ f g g∘f f∘g</code></pre>
<p>where <code>f</code>, <code>g</code>, <code>g∘f</code>, and <code>f∘g</code> are values of suitable types.</p>
<h2 id="isomorphism-is-an-equivalence">Isomorphism is an equivalence</h2>
Isomorphism is an equivalence, meaning that it is reflexive, symmetric, and transitive. To show isomorphism is reflexive, we take both <code>to</code> and <code>from</code> to be the identity function:
<pre class="Agda"><a id="≃-refl"></a><a id="6447" href="../Isomorphism/#6447" class="Function">≃-refl</a> <a id="6454" class="Symbol">:</a> <a id="6456" class="Symbol">∀</a> <a id="6458" class="Symbol">{</a><a id="6459" href="../Isomorphism/#6459" class="Bound">A</a> <a id="6461" class="Symbol">:</a> <a id="6463" class="PrimitiveType">Set</a><a id="6466" class="Symbol">}</a>
    <a id="6472" class="Comment">-----</a>
  <a id="6480" class="Symbol">→</a> <a id="6482" href="../Isomorphism/#6459" class="Bound">A</a> <a id="6484" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="6486" href="../Isomorphism/#6459" class="Bound">A</a>
<a id="6488" href="../Isomorphism/#6447" class="Function">≃-refl</a> <a id="6495" class="Symbol">=</a>
  <a id="6499" class="Keyword">record</a>
    <a id="6510" class="Symbol">{</a> <a id="6512" href="../Isomorphism/#4369" class="Field">to</a>      <a id="6520" class="Symbol">=</a> <a id="6522" class="Symbol">λ{</a><a id="6524" href="../Isomorphism/#6524" class="Bound">x</a> <a id="6526" class="Symbol">→</a> <a id="6528" href="../Isomorphism/#6524" class="Bound">x</a><a id="6529" class="Symbol">}</a>
    <a id="6535" class="Symbol">;</a> <a id="6537" href="../Isomorphism/#4386" class="Field">from</a>    <a id="6545" class="Symbol">=</a> <a id="6547" class="Symbol">λ{</a><a id="6549" href="../Isomorphism/#6549" class="Bound">y</a> <a id="6551" class="Symbol">→</a> <a id="6553" href="../Isomorphism/#6549" class="Bound">y</a><a id="6554" class="Symbol">}</a>
    <a id="6560" class="Symbol">;</a> <a id="6562" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="6570" class="Symbol">=</a> <a id="6572" class="Symbol">λ{</a><a id="6574" href="../Isomorphism/#6574" class="Bound">x</a> <a id="6576" class="Symbol">→</a> <a id="6578" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="6582" class="Symbol">}</a>
    <a id="6588" class="Symbol">;</a> <a id="6590" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="6598" class="Symbol">=</a> <a id="6600" class="Symbol">λ{</a><a id="6602" href="../Isomorphism/#6602" class="Bound">y</a> <a id="6604" class="Symbol">→</a> <a id="6606" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="6610" class="Symbol">}</a>
    <a id="6616" class="Symbol">}</a>
</pre>
<p>In the above, <code>to</code> and <code>from</code> are both bound to identity functions, and <code>from∘to</code> and <code>to∘from</code> are both bound to functions that discard their argument and return <code>refl</code>. In this case, <code>refl</code> alone is an adequate proof since for the left inverse, <code>from (to x)</code> simplifies to <code>x</code>, and similarly for the right inverse.</p>
To show isomorphism is symmetric, we simply swap the roles of <code>to</code> and <code>from</code>, and <code>from∘to</code> and <code>to∘from</code>:
<pre class="Agda"><a id="≃-sym"></a><a id="7053" href="../Isomorphism/#7053" class="Function">≃-sym</a> <a id="7059" class="Symbol">:</a> <a id="7061" class="Symbol">∀</a> <a id="7063" class="Symbol">{</a><a id="7064" href="../Isomorphism/#7064" class="Bound">A</a> <a id="7066" href="../Isomorphism/#7066" class="Bound">B</a> <a id="7068" class="Symbol">:</a> <a id="7070" class="PrimitiveType">Set</a><a id="7073" class="Symbol">}</a>
  <a id="7077" class="Symbol">→</a> <a id="7079" href="../Isomorphism/#7064" class="Bound">A</a> <a id="7081" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="7083" href="../Isomorphism/#7066" class="Bound">B</a>
    <a id="7089" class="Comment">-----</a>
  <a id="7097" class="Symbol">→</a> <a id="7099" href="../Isomorphism/#7066" class="Bound">B</a> <a id="7101" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="7103" href="../Isomorphism/#7064" class="Bound">A</a>
<a id="7105" href="../Isomorphism/#7053" class="Function">≃-sym</a> <a id="7111" href="../Isomorphism/#7111" class="Bound">A≃B</a> <a id="7115" class="Symbol">=</a>
  <a id="7119" class="Keyword">record</a>
    <a id="7130" class="Symbol">{</a> <a id="7132" href="../Isomorphism/#4369" class="Field">to</a>      <a id="7140" class="Symbol">=</a> <a id="7142" href="../Isomorphism/#4386" class="Field">from</a> <a id="7147" href="../Isomorphism/#7111" class="Bound">A≃B</a>
    <a id="7155" class="Symbol">;</a> <a id="7157" href="../Isomorphism/#4386" class="Field">from</a>    <a id="7165" class="Symbol">=</a> <a id="7167" href="../Isomorphism/#4369" class="Field">to</a>   <a id="7172" href="../Isomorphism/#7111" class="Bound">A≃B</a>
    <a id="7180" class="Symbol">;</a> <a id="7182" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="7190" class="Symbol">=</a> <a id="7192" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="7200" href="../Isomorphism/#7111" class="Bound">A≃B</a>
    <a id="7208" class="Symbol">;</a> <a id="7210" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="7218" class="Symbol">=</a> <a id="7220" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="7228" href="../Isomorphism/#7111" class="Bound">A≃B</a>
    <a id="7236" class="Symbol">}</a>
</pre>
To show isomorphism is transitive, we compose the <code>to</code> and <code>from</code> functions, and use equational reasoning to combine the inverses:
<pre class="Agda"><a id="≃-trans"></a><a id="7378" href="../Isomorphism/#7378" class="Function">≃-trans</a> <a id="7386" class="Symbol">:</a> <a id="7388" class="Symbol">∀</a> <a id="7390" class="Symbol">{</a><a id="7391" href="../Isomorphism/#7391" class="Bound">A</a> <a id="7393" href="../Isomorphism/#7393" class="Bound">B</a> <a id="7395" href="../Isomorphism/#7395" class="Bound">C</a> <a id="7397" class="Symbol">:</a> <a id="7399" class="PrimitiveType">Set</a><a id="7402" class="Symbol">}</a>
  <a id="7406" class="Symbol">→</a> <a id="7408" href="../Isomorphism/#7391" class="Bound">A</a> <a id="7410" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="7412" href="../Isomorphism/#7393" class="Bound">B</a>
  <a id="7416" class="Symbol">→</a> <a id="7418" href="../Isomorphism/#7393" class="Bound">B</a> <a id="7420" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="7422" href="../Isomorphism/#7395" class="Bound">C</a>
    <a id="7428" class="Comment">-----</a>
  <a id="7436" class="Symbol">→</a> <a id="7438" href="../Isomorphism/#7391" class="Bound">A</a> <a id="7440" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="7442" href="../Isomorphism/#7395" class="Bound">C</a>
<a id="7444" href="../Isomorphism/#7378" class="Function">≃-trans</a> <a id="7452" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7456" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7460" class="Symbol">=</a>
  <a id="7464" class="Keyword">record</a>
    <a id="7475" class="Symbol">{</a> <a id="7477" href="../Isomorphism/#4369" class="Field">to</a>       <a id="7486" class="Symbol">=</a> <a id="7488" href="../Isomorphism/#4369" class="Field">to</a>   <a id="7493" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7497" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7499" href="../Isomorphism/#4369" class="Field">to</a>   <a id="7504" href="../Isomorphism/#7452" class="Bound">A≃B</a>
    <a id="7512" class="Symbol">;</a> <a id="7514" href="../Isomorphism/#4386" class="Field">from</a>     <a id="7523" class="Symbol">=</a> <a id="7525" href="../Isomorphism/#4386" class="Field">from</a> <a id="7530" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7534" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7536" href="../Isomorphism/#4386" class="Field">from</a> <a id="7541" href="../Isomorphism/#7456" class="Bound">B≃C</a>
    <a id="7549" class="Symbol">;</a> <a id="7551" href="../Isomorphism/#4403" class="Field">from∘to</a>  <a id="7560" class="Symbol">=</a> <a id="7562" class="Symbol">λ{</a><a id="7564" href="../Isomorphism/#7564" class="Bound">x</a> <a id="7566" class="Symbol">→</a>
        <a id="7576" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
          <a id="7592" class="Symbol">(</a><a id="7593" href="../Isomorphism/#4386" class="Field">from</a> <a id="7598" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7602" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7604" href="../Isomorphism/#4386" class="Field">from</a> <a id="7609" href="../Isomorphism/#7456" class="Bound">B≃C</a><a id="7612" class="Symbol">)</a> <a id="7614" class="Symbol">((</a><a id="7616" href="../Isomorphism/#4369" class="Field">to</a> <a id="7619" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7623" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7625" href="../Isomorphism/#4369" class="Field">to</a> <a id="7628" href="../Isomorphism/#7452" class="Bound">A≃B</a><a id="7631" class="Symbol">)</a> <a id="7633" href="../Isomorphism/#7564" class="Bound">x</a><a id="7634" class="Symbol">)</a>
        <a id="7644" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
          <a id="7658" href="../Isomorphism/#4386" class="Field">from</a> <a id="7663" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7667" class="Symbol">(</a><a id="7668" href="../Isomorphism/#4386" class="Field">from</a> <a id="7673" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7677" class="Symbol">(</a><a id="7678" href="../Isomorphism/#4369" class="Field">to</a> <a id="7681" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7685" class="Symbol">(</a><a id="7686" href="../Isomorphism/#4369" class="Field">to</a> <a id="7689" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7693" href="../Isomorphism/#7564" class="Bound">x</a><a id="7694" class="Symbol">)))</a>
        <a id="7706" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="7709" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="7714" class="Symbol">(</a><a id="7715" href="../Isomorphism/#4386" class="Field">from</a> <a id="7720" href="../Isomorphism/#7452" class="Bound">A≃B</a><a id="7723" class="Symbol">)</a> <a id="7725" class="Symbol">(</a><a id="7726" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="7734" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7738" class="Symbol">(</a><a id="7739" href="../Isomorphism/#4369" class="Field">to</a> <a id="7742" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7746" href="../Isomorphism/#7564" class="Bound">x</a><a id="7747" class="Symbol">))</a> <a id="7750" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="7762" href="../Isomorphism/#4386" class="Field">from</a> <a id="7767" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7771" class="Symbol">(</a><a id="7772" href="../Isomorphism/#4369" class="Field">to</a> <a id="7775" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7779" href="../Isomorphism/#7564" class="Bound">x</a><a id="7780" class="Symbol">)</a>
        <a id="7790" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="7793" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="7801" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7805" href="../Isomorphism/#7564" class="Bound">x</a> <a id="7807" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="7819" href="../Isomorphism/#7564" class="Bound">x</a>
        <a id="7829" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a><a id="7830" class="Symbol">}</a>
    <a id="7836" class="Symbol">;</a> <a id="7838" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="7846" class="Symbol">=</a> <a id="7848" class="Symbol">λ{</a><a id="7850" href="../Isomorphism/#7850" class="Bound">y</a> <a id="7852" class="Symbol">→</a>
        <a id="7862" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
          <a id="7878" class="Symbol">(</a><a id="7879" href="../Isomorphism/#4369" class="Field">to</a> <a id="7882" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7886" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7888" href="../Isomorphism/#4369" class="Field">to</a> <a id="7891" href="../Isomorphism/#7452" class="Bound">A≃B</a><a id="7894" class="Symbol">)</a> <a id="7896" class="Symbol">((</a><a id="7898" href="../Isomorphism/#4386" class="Field">from</a> <a id="7903" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7907" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7909" href="../Isomorphism/#4386" class="Field">from</a> <a id="7914" href="../Isomorphism/#7456" class="Bound">B≃C</a><a id="7917" class="Symbol">)</a> <a id="7919" href="../Isomorphism/#7850" class="Bound">y</a><a id="7920" class="Symbol">)</a>
        <a id="7930" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2575" class="Function Operator">≡⟨⟩</a>
          <a id="7944" href="../Isomorphism/#4369" class="Field">to</a> <a id="7947" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7951" class="Symbol">(</a><a id="7952" href="../Isomorphism/#4369" class="Field">to</a> <a id="7955" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7959" class="Symbol">(</a><a id="7960" href="../Isomorphism/#4386" class="Field">from</a> <a id="7965" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="7969" class="Symbol">(</a><a id="7970" href="../Isomorphism/#4386" class="Field">from</a> <a id="7975" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="7979" href="../Isomorphism/#7850" class="Bound">y</a><a id="7980" class="Symbol">)))</a>
        <a id="7992" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="7995" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="8000" class="Symbol">(</a><a id="8001" href="../Isomorphism/#4369" class="Field">to</a> <a id="8004" href="../Isomorphism/#7456" class="Bound">B≃C</a><a id="8007" class="Symbol">)</a> <a id="8009" class="Symbol">(</a><a id="8010" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="8018" href="../Isomorphism/#7452" class="Bound">A≃B</a> <a id="8022" class="Symbol">(</a><a id="8023" href="../Isomorphism/#4386" class="Field">from</a> <a id="8028" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="8032" href="../Isomorphism/#7850" class="Bound">y</a><a id="8033" class="Symbol">))</a> <a id="8036" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="8048" href="../Isomorphism/#4369" class="Field">to</a> <a id="8051" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="8055" class="Symbol">(</a><a id="8056" href="../Isomorphism/#4386" class="Field">from</a> <a id="8061" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="8065" href="../Isomorphism/#7850" class="Bound">y</a><a id="8066" class="Symbol">)</a>
        <a id="8076" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="8079" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="8087" href="../Isomorphism/#7456" class="Bound">B≃C</a> <a id="8091" href="../Isomorphism/#7850" class="Bound">y</a> <a id="8093" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="8105" href="../Isomorphism/#7850" class="Bound">y</a>
        <a id="8115" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a><a id="8116" class="Symbol">}</a>
     <a id="8123" class="Symbol">}</a>
</pre>
<h2 id="equational-reasoning-for-isomorphism">Equational reasoning for isomorphism</h2>
<p>It is straightforward to support a variant of equational reasoning for isomorphism. We essentially copy the previous definition of equality for isomorphism. We omit the form that corresponds to <code>_≡⟨⟩_</code>, since trivial isomorphisms arise far less often than trivial equalities:</p>
<pre class="Agda"><a id="8455" class="Keyword">module</a> <a id="≃-Reasoning"></a><a id="8462" href="../Isomorphism/#8462" class="Module">≃-Reasoning</a> <a id="8474" class="Keyword">where</a>

  <a id="8483" class="Keyword">infix</a>  <a id="8490" class="Number">1</a> <a id="8492" href="../Isomorphism/#8538" class="Function Operator">≃-begin_</a>
  <a id="8503" class="Keyword">infixr</a> <a id="8510" class="Number">2</a> <a id="8512" href="../Isomorphism/#8622" class="Function Operator">_≃⟨_⟩_</a>
  <a id="8521" class="Keyword">infix</a>  <a id="8528" class="Number">3</a> <a id="8530" href="../Isomorphism/#8741" class="Function Operator">_≃-∎</a>

  <a id="≃-Reasoning.≃-begin_"></a><a id="8538" href="../Isomorphism/#8538" class="Function Operator">≃-begin_</a> <a id="8547" class="Symbol">:</a> <a id="8549" class="Symbol">∀</a> <a id="8551" class="Symbol">{</a><a id="8552" href="../Isomorphism/#8552" class="Bound">A</a> <a id="8554" href="../Isomorphism/#8554" class="Bound">B</a> <a id="8556" class="Symbol">:</a> <a id="8558" class="PrimitiveType">Set</a><a id="8561" class="Symbol">}</a>
    <a id="8567" class="Symbol">→</a> <a id="8569" href="../Isomorphism/#8552" class="Bound">A</a> <a id="8571" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8573" href="../Isomorphism/#8554" class="Bound">B</a>
      <a id="8581" class="Comment">-----</a>
    <a id="8591" class="Symbol">→</a> <a id="8593" href="../Isomorphism/#8552" class="Bound">A</a> <a id="8595" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8597" href="../Isomorphism/#8554" class="Bound">B</a>
  <a id="8601" href="../Isomorphism/#8538" class="Function Operator">≃-begin</a> <a id="8609" href="../Isomorphism/#8609" class="Bound">A≃B</a> <a id="8613" class="Symbol">=</a> <a id="8615" href="../Isomorphism/#8609" class="Bound">A≃B</a>

  <a id="≃-Reasoning._≃⟨_⟩_"></a><a id="8622" href="../Isomorphism/#8622" class="Function Operator">_≃⟨_⟩_</a> <a id="8629" class="Symbol">:</a> <a id="8631" class="Symbol">∀</a> <a id="8633" class="Symbol">(</a><a id="8634" href="../Isomorphism/#8634" class="Bound">A</a> <a id="8636" class="Symbol">:</a> <a id="8638" class="PrimitiveType">Set</a><a id="8641" class="Symbol">)</a> <a id="8643" class="Symbol">{</a><a id="8644" href="../Isomorphism/#8644" class="Bound">B</a> <a id="8646" href="../Isomorphism/#8646" class="Bound">C</a> <a id="8648" class="Symbol">:</a> <a id="8650" class="PrimitiveType">Set</a><a id="8653" class="Symbol">}</a>
    <a id="8659" class="Symbol">→</a> <a id="8661" href="../Isomorphism/#8634" class="Bound">A</a> <a id="8663" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8665" href="../Isomorphism/#8644" class="Bound">B</a>
    <a id="8671" class="Symbol">→</a> <a id="8673" href="../Isomorphism/#8644" class="Bound">B</a> <a id="8675" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8677" href="../Isomorphism/#8646" class="Bound">C</a>
      <a id="8685" class="Comment">-----</a>
    <a id="8695" class="Symbol">→</a> <a id="8697" href="../Isomorphism/#8634" class="Bound">A</a> <a id="8699" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8701" href="../Isomorphism/#8646" class="Bound">C</a>
  <a id="8705" href="../Isomorphism/#8705" class="Bound">A</a> <a id="8707" href="../Isomorphism/#8622" class="Function Operator">≃⟨</a> <a id="8710" href="../Isomorphism/#8710" class="Bound">A≃B</a> <a id="8714" href="../Isomorphism/#8622" class="Function Operator">⟩</a> <a id="8716" href="../Isomorphism/#8716" class="Bound">B≃C</a> <a id="8720" class="Symbol">=</a> <a id="8722" href="../Isomorphism/#7378" class="Function">≃-trans</a> <a id="8730" href="../Isomorphism/#8710" class="Bound">A≃B</a> <a id="8734" href="../Isomorphism/#8716" class="Bound">B≃C</a>

  <a id="≃-Reasoning._≃-∎"></a><a id="8741" href="../Isomorphism/#8741" class="Function Operator">_≃-∎</a> <a id="8746" class="Symbol">:</a> <a id="8748" class="Symbol">∀</a> <a id="8750" class="Symbol">(</a><a id="8751" href="../Isomorphism/#8751" class="Bound">A</a> <a id="8753" class="Symbol">:</a> <a id="8755" class="PrimitiveType">Set</a><a id="8758" class="Symbol">)</a>
      <a id="8766" class="Comment">-----</a>
    <a id="8776" class="Symbol">→</a> <a id="8778" href="../Isomorphism/#8751" class="Bound">A</a> <a id="8780" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="8782" href="../Isomorphism/#8751" class="Bound">A</a>
  <a id="8786" href="../Isomorphism/#8786" class="Bound">A</a> <a id="8788" href="../Isomorphism/#8741" class="Function Operator">≃-∎</a> <a id="8792" class="Symbol">=</a> <a id="8794" href="../Isomorphism/#6447" class="Function">≃-refl</a>

<a id="8802" class="Keyword">open</a> <a id="8807" href="../Isomorphism/#8462" class="Module">≃-Reasoning</a>
</pre>
<h2 id="embedding">Embedding</h2>
<p>We also need the notion of <em>embedding</em>, which is a weakening of isomorphism. While an isomorphism shows that two types are in one-to-one correspondence, an embedding shows that the first type is included in the second; or, equivalently, that there is a many-to-one correspondence between the second type and the first.</p>
Here is the formal definition of embedding:
<pre class="Agda"><a id="9208" class="Keyword">infix</a> <a id="9214" class="Number">0</a> <a id="9216" href="../Isomorphism/#9227" class="Record Operator">_≲_</a>
<a id="9220" class="Keyword">record</a> <a id="_≲_"></a><a id="9227" href="../Isomorphism/#9227" class="Record Operator">_≲_</a> <a id="9231" class="Symbol">(</a><a id="9232" href="../Isomorphism/#9232" class="Bound">A</a> <a id="9234" href="../Isomorphism/#9234" class="Bound">B</a> <a id="9236" class="Symbol">:</a> <a id="9238" class="PrimitiveType">Set</a><a id="9241" class="Symbol">)</a> <a id="9243" class="Symbol">:</a> <a id="9245" class="PrimitiveType">Set</a> <a id="9249" class="Keyword">where</a>
  <a id="9257" class="Keyword">field</a>
    <a id="_≲_.to"></a><a id="9267" href="../Isomorphism/#9267" class="Field">to</a>      <a id="9275" class="Symbol">:</a> <a id="9277" href="../Isomorphism/#9232" class="Bound">A</a> <a id="9279" class="Symbol">→</a> <a id="9281" href="../Isomorphism/#9234" class="Bound">B</a>
    <a id="_≲_.from"></a><a id="9287" href="../Isomorphism/#9287" class="Field">from</a>    <a id="9295" class="Symbol">:</a> <a id="9297" href="../Isomorphism/#9234" class="Bound">B</a> <a id="9299" class="Symbol">→</a> <a id="9301" href="../Isomorphism/#9232" class="Bound">A</a>
    <a id="_≲_.from∘to"></a><a id="9307" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="9315" class="Symbol">:</a> <a id="9317" class="Symbol">∀</a> <a id="9319" class="Symbol">(</a><a id="9320" href="../Isomorphism/#9320" class="Bound">x</a> <a id="9322" class="Symbol">:</a> <a id="9324" href="../Isomorphism/#9232" class="Bound">A</a><a id="9325" class="Symbol">)</a> <a id="9327" class="Symbol">→</a> <a id="9329" class="Field">from</a> <a id="9334" class="Symbol">(</a><a id="9335" class="Field">to</a> <a id="9338" href="../Isomorphism/#9320" class="Bound">x</a><a id="9339" class="Symbol">)</a> <a id="9341" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9343" href="../Isomorphism/#9320" class="Bound">x</a>
<a id="9345" class="Keyword">open</a> <a id="9350" href="../Isomorphism/#9227" class="Module Operator">_≲_</a>
</pre>
<p>It is the same as an isomorphism, save that it lacks the <code>to∘from</code> field. Hence, we know that <code>from</code> is left-inverse to <code>to</code>, but not that <code>from</code> is right-inverse to <code>to</code>.</p>
Embedding is reflexive and transitive, but not symmetric. The proofs are cut down versions of the similar proofs for isomorphism:
<pre class="Agda"><a id="≲-refl"></a><a id="9666" href="../Isomorphism/#9666" class="Function">≲-refl</a> <a id="9673" class="Symbol">:</a> <a id="9675" class="Symbol">∀</a> <a id="9677" class="Symbol">{</a><a id="9678" href="../Isomorphism/#9678" class="Bound">A</a> <a id="9680" class="Symbol">:</a> <a id="9682" class="PrimitiveType">Set</a><a id="9685" class="Symbol">}</a> <a id="9687" class="Symbol">→</a> <a id="9689" href="../Isomorphism/#9678" class="Bound">A</a> <a id="9691" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="9693" href="../Isomorphism/#9678" class="Bound">A</a>
<a id="9695" href="../Isomorphism/#9666" class="Function">≲-refl</a> <a id="9702" class="Symbol">=</a>
  <a id="9706" class="Keyword">record</a>
    <a id="9717" class="Symbol">{</a> <a id="9719" href="../Isomorphism/#9267" class="Field">to</a>      <a id="9727" class="Symbol">=</a> <a id="9729" class="Symbol">λ{</a><a id="9731" href="../Isomorphism/#9731" class="Bound">x</a> <a id="9733" class="Symbol">→</a> <a id="9735" href="../Isomorphism/#9731" class="Bound">x</a><a id="9736" class="Symbol">}</a>
    <a id="9742" class="Symbol">;</a> <a id="9744" href="../Isomorphism/#9287" class="Field">from</a>    <a id="9752" class="Symbol">=</a> <a id="9754" class="Symbol">λ{</a><a id="9756" href="../Isomorphism/#9756" class="Bound">y</a> <a id="9758" class="Symbol">→</a> <a id="9760" href="../Isomorphism/#9756" class="Bound">y</a><a id="9761" class="Symbol">}</a>
    <a id="9767" class="Symbol">;</a> <a id="9769" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="9777" class="Symbol">=</a> <a id="9779" class="Symbol">λ{</a><a id="9781" href="../Isomorphism/#9781" class="Bound">x</a> <a id="9783" class="Symbol">→</a> <a id="9785" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="9789" class="Symbol">}</a>
    <a id="9795" class="Symbol">}</a>

<a id="≲-trans"></a><a id="9798" href="../Isomorphism/#9798" class="Function">≲-trans</a> <a id="9806" class="Symbol">:</a> <a id="9808" class="Symbol">∀</a> <a id="9810" class="Symbol">{</a><a id="9811" href="../Isomorphism/#9811" class="Bound">A</a> <a id="9813" href="../Isomorphism/#9813" class="Bound">B</a> <a id="9815" href="../Isomorphism/#9815" class="Bound">C</a> <a id="9817" class="Symbol">:</a> <a id="9819" class="PrimitiveType">Set</a><a id="9822" class="Symbol">}</a> <a id="9824" class="Symbol">→</a> <a id="9826" href="../Isomorphism/#9811" class="Bound">A</a> <a id="9828" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="9830" href="../Isomorphism/#9813" class="Bound">B</a> <a id="9832" class="Symbol">→</a> <a id="9834" href="../Isomorphism/#9813" class="Bound">B</a> <a id="9836" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="9838" href="../Isomorphism/#9815" class="Bound">C</a> <a id="9840" class="Symbol">→</a> <a id="9842" href="../Isomorphism/#9811" class="Bound">A</a> <a id="9844" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="9846" href="../Isomorphism/#9815" class="Bound">C</a>
<a id="9848" href="../Isomorphism/#9798" class="Function">≲-trans</a> <a id="9856" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="9860" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="9864" class="Symbol">=</a>
  <a id="9868" class="Keyword">record</a>
    <a id="9879" class="Symbol">{</a> <a id="9881" href="../Isomorphism/#9267" class="Field">to</a>      <a id="9889" class="Symbol">=</a> <a id="9891" class="Symbol">λ{</a><a id="9893" href="../Isomorphism/#9893" class="Bound">x</a> <a id="9895" class="Symbol">→</a> <a id="9897" href="../Isomorphism/#9267" class="Field">to</a>   <a id="9902" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="9906" class="Symbol">(</a><a id="9907" href="../Isomorphism/#9267" class="Field">to</a>   <a id="9912" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="9916" href="../Isomorphism/#9893" class="Bound">x</a><a id="9917" class="Symbol">)}</a>
    <a id="9924" class="Symbol">;</a> <a id="9926" href="../Isomorphism/#9287" class="Field">from</a>    <a id="9934" class="Symbol">=</a> <a id="9936" class="Symbol">λ{</a><a id="9938" href="../Isomorphism/#9938" class="Bound">y</a> <a id="9940" class="Symbol">→</a> <a id="9942" href="../Isomorphism/#9287" class="Field">from</a> <a id="9947" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="9951" class="Symbol">(</a><a id="9952" href="../Isomorphism/#9287" class="Field">from</a> <a id="9957" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="9961" href="../Isomorphism/#9938" class="Bound">y</a><a id="9962" class="Symbol">)}</a>
    <a id="9969" class="Symbol">;</a> <a id="9971" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="9979" class="Symbol">=</a> <a id="9981" class="Symbol">λ{</a><a id="9983" href="../Isomorphism/#9983" class="Bound">x</a> <a id="9985" class="Symbol">→</a>
        <a id="9995" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
          <a id="10011" href="../Isomorphism/#9287" class="Field">from</a> <a id="10016" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10020" class="Symbol">(</a><a id="10021" href="../Isomorphism/#9287" class="Field">from</a> <a id="10026" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="10030" class="Symbol">(</a><a id="10031" href="../Isomorphism/#9267" class="Field">to</a> <a id="10034" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="10038" class="Symbol">(</a><a id="10039" href="../Isomorphism/#9267" class="Field">to</a> <a id="10042" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10046" href="../Isomorphism/#9983" class="Bound">x</a><a id="10047" class="Symbol">)))</a>
        <a id="10059" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="10062" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="10067" class="Symbol">(</a><a id="10068" href="../Isomorphism/#9287" class="Field">from</a> <a id="10073" href="../Isomorphism/#9856" class="Bound">A≲B</a><a id="10076" class="Symbol">)</a> <a id="10078" class="Symbol">(</a><a id="10079" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="10087" href="../Isomorphism/#9860" class="Bound">B≲C</a> <a id="10091" class="Symbol">(</a><a id="10092" href="../Isomorphism/#9267" class="Field">to</a> <a id="10095" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10099" href="../Isomorphism/#9983" class="Bound">x</a><a id="10100" class="Symbol">))</a> <a id="10103" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="10115" href="../Isomorphism/#9287" class="Field">from</a> <a id="10120" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10124" class="Symbol">(</a><a id="10125" href="../Isomorphism/#9267" class="Field">to</a> <a id="10128" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10132" href="../Isomorphism/#9983" class="Bound">x</a><a id="10133" class="Symbol">)</a>
        <a id="10143" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="10146" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="10154" href="../Isomorphism/#9856" class="Bound">A≲B</a> <a id="10158" href="../Isomorphism/#9983" class="Bound">x</a> <a id="10160" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="10172" href="../Isomorphism/#9983" class="Bound">x</a>
        <a id="10182" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a><a id="10183" class="Symbol">}</a>
     <a id="10190" class="Symbol">}</a>
</pre>
It is also easy to see that if two types embed in each other, and the embedding functions correspond, then they are isomorphic. This is a weak form of anti-symmetry:
<pre class="Agda"><a id="≲-antisym"></a><a id="10368" href="../Isomorphism/#10368" class="Function">≲-antisym</a> <a id="10378" class="Symbol">:</a> <a id="10380" class="Symbol">∀</a> <a id="10382" class="Symbol">{</a><a id="10383" href="../Isomorphism/#10383" class="Bound">A</a> <a id="10385" href="../Isomorphism/#10385" class="Bound">B</a> <a id="10387" class="Symbol">:</a> <a id="10389" class="PrimitiveType">Set</a><a id="10392" class="Symbol">}</a>
  <a id="10396" class="Symbol">→</a> <a id="10398" class="Symbol">(</a><a id="10399" href="../Isomorphism/#10399" class="Bound">A≲B</a> <a id="10403" class="Symbol">:</a> <a id="10405" href="../Isomorphism/#10383" class="Bound">A</a> <a id="10407" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="10409" href="../Isomorphism/#10385" class="Bound">B</a><a id="10410" class="Symbol">)</a>
  <a id="10414" class="Symbol">→</a> <a id="10416" class="Symbol">(</a><a id="10417" href="../Isomorphism/#10417" class="Bound">B≲A</a> <a id="10421" class="Symbol">:</a> <a id="10423" href="../Isomorphism/#10385" class="Bound">B</a> <a id="10425" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="10427" href="../Isomorphism/#10383" class="Bound">A</a><a id="10428" class="Symbol">)</a>
  <a id="10432" class="Symbol">→</a> <a id="10434" class="Symbol">(</a><a id="10435" href="../Isomorphism/#9267" class="Field">to</a> <a id="10438" href="../Isomorphism/#10399" class="Bound">A≲B</a> <a id="10442" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10444" href="../Isomorphism/#9287" class="Field">from</a> <a id="10449" href="../Isomorphism/#10417" class="Bound">B≲A</a><a id="10452" class="Symbol">)</a>
  <a id="10456" class="Symbol">→</a> <a id="10458" class="Symbol">(</a><a id="10459" href="../Isomorphism/#9287" class="Field">from</a> <a id="10464" href="../Isomorphism/#10399" class="Bound">A≲B</a> <a id="10468" href="https://agda.github.io/agda-stdlib/v1.3/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10470" href="../Isomorphism/#9267" class="Field">to</a> <a id="10473" href="../Isomorphism/#10417" class="Bound">B≲A</a><a id="10476" class="Symbol">)</a>
    <a id="10482" class="Comment">-------------------</a>
  <a id="10504" class="Symbol">→</a> <a id="10506" href="../Isomorphism/#10383" class="Bound">A</a> <a id="10508" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="10510" href="../Isomorphism/#10385" class="Bound">B</a>
<a id="10512" href="../Isomorphism/#10368" class="Function">≲-antisym</a> <a id="10522" href="../Isomorphism/#10522" class="Bound">A≲B</a> <a id="10526" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10530" href="../Isomorphism/#10530" class="Bound">to≡from</a> <a id="10538" href="../Isomorphism/#10538" class="Bound">from≡to</a> <a id="10546" class="Symbol">=</a>
  <a id="10550" class="Keyword">record</a>
    <a id="10561" class="Symbol">{</a> <a id="10563" href="../Isomorphism/#4369" class="Field">to</a>      <a id="10571" class="Symbol">=</a> <a id="10573" href="../Isomorphism/#9267" class="Field">to</a> <a id="10576" href="../Isomorphism/#10522" class="Bound">A≲B</a>
    <a id="10584" class="Symbol">;</a> <a id="10586" href="../Isomorphism/#4386" class="Field">from</a>    <a id="10594" class="Symbol">=</a> <a id="10596" href="../Isomorphism/#9287" class="Field">from</a> <a id="10601" href="../Isomorphism/#10522" class="Bound">A≲B</a>
    <a id="10609" class="Symbol">;</a> <a id="10611" href="../Isomorphism/#4403" class="Field">from∘to</a> <a id="10619" class="Symbol">=</a> <a id="10621" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="10629" href="../Isomorphism/#10522" class="Bound">A≲B</a>
    <a id="10637" class="Symbol">;</a> <a id="10639" href="../Isomorphism/#4445" class="Field">to∘from</a> <a id="10647" class="Symbol">=</a> <a id="10649" class="Symbol">λ{</a><a id="10651" href="../Isomorphism/#10651" class="Bound">y</a> <a id="10653" class="Symbol">→</a>
        <a id="10663" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2517" class="Function Operator">begin</a>
          <a id="10679" href="../Isomorphism/#9267" class="Field">to</a> <a id="10682" href="../Isomorphism/#10522" class="Bound">A≲B</a> <a id="10686" class="Symbol">(</a><a id="10687" href="../Isomorphism/#9287" class="Field">from</a> <a id="10692" href="../Isomorphism/#10522" class="Bound">A≲B</a> <a id="10696" href="../Isomorphism/#10651" class="Bound">y</a><a id="10697" class="Symbol">)</a>
        <a id="10707" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="10710" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#1131" class="Function">cong</a> <a id="10715" class="Symbol">(</a><a id="10716" href="../Isomorphism/#9267" class="Field">to</a> <a id="10719" href="../Isomorphism/#10522" class="Bound">A≲B</a><a id="10722" class="Symbol">)</a> <a id="10724" class="Symbol">(</a><a id="10725" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="10734" href="../Isomorphism/#10538" class="Bound">from≡to</a> <a id="10742" href="../Isomorphism/#10651" class="Bound">y</a><a id="10743" class="Symbol">)</a> <a id="10745" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="10757" href="../Isomorphism/#9267" class="Field">to</a> <a id="10760" href="../Isomorphism/#10522" class="Bound">A≲B</a> <a id="10764" class="Symbol">(</a><a id="10765" href="../Isomorphism/#9267" class="Field">to</a> <a id="10768" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10772" href="../Isomorphism/#10651" class="Bound">y</a><a id="10773" class="Symbol">)</a>
        <a id="10783" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="10786" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.html#1396" class="Function">cong-app</a> <a id="10795" href="../Isomorphism/#10530" class="Bound">to≡from</a> <a id="10803" class="Symbol">(</a><a id="10804" href="../Isomorphism/#9267" class="Field">to</a> <a id="10807" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10811" href="../Isomorphism/#10651" class="Bound">y</a><a id="10812" class="Symbol">)</a> <a id="10814" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="10826" href="../Isomorphism/#9287" class="Field">from</a> <a id="10831" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10835" class="Symbol">(</a><a id="10836" href="../Isomorphism/#9267" class="Field">to</a> <a id="10839" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10843" href="../Isomorphism/#10651" class="Bound">y</a><a id="10844" class="Symbol">)</a>
        <a id="10854" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">≡⟨</a> <a id="10857" href="../Isomorphism/#9307" class="Field">from∘to</a> <a id="10865" href="../Isomorphism/#10526" class="Bound">B≲A</a> <a id="10869" href="../Isomorphism/#10651" class="Bound">y</a> <a id="10871" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2634" class="Function">⟩</a>
          <a id="10883" href="../Isomorphism/#10651" class="Bound">y</a>
        <a id="10893" href="https://agda.github.io/agda-stdlib/v1.3/Relation.Binary.PropositionalEquality.Core.html#2816" class="Function Operator">∎</a><a id="10894" class="Symbol">}</a>
    <a id="10900" class="Symbol">}</a>
</pre>
<p>The first three components are copied from the embedding, while the last combines the left inverse of <code>B ≲ A</code> with the equivalences of the <code>to</code> and <code>from</code> components from the two embeddings to obtain the right inverse of the isomorphism.</p>
<h2 id="equational-reasoning-for-embedding">Equational reasoning for embedding</h2>
<p>We can also support tabular reasoning for embedding, analogous to that used for isomorphism:</p>
<pre class="Agda"><a id="11282" class="Keyword">module</a> <a id="≲-Reasoning"></a><a id="11289" href="../Isomorphism/#11289" class="Module">≲-Reasoning</a> <a id="11301" class="Keyword">where</a>

  <a id="11310" class="Keyword">infix</a>  <a id="11317" class="Number">1</a> <a id="11319" href="../Isomorphism/#11365" class="Function Operator">≲-begin_</a>
  <a id="11330" class="Keyword">infixr</a> <a id="11337" class="Number">2</a> <a id="11339" href="../Isomorphism/#11449" class="Function Operator">_≲⟨_⟩_</a>
  <a id="11348" class="Keyword">infix</a>  <a id="11355" class="Number">3</a> <a id="11357" href="../Isomorphism/#11568" class="Function Operator">_≲-∎</a>

  <a id="≲-Reasoning.≲-begin_"></a><a id="11365" href="../Isomorphism/#11365" class="Function Operator">≲-begin_</a> <a id="11374" class="Symbol">:</a> <a id="11376" class="Symbol">∀</a> <a id="11378" class="Symbol">{</a><a id="11379" href="../Isomorphism/#11379" class="Bound">A</a> <a id="11381" href="../Isomorphism/#11381" class="Bound">B</a> <a id="11383" class="Symbol">:</a> <a id="11385" class="PrimitiveType">Set</a><a id="11388" class="Symbol">}</a>
    <a id="11394" class="Symbol">→</a> <a id="11396" href="../Isomorphism/#11379" class="Bound">A</a> <a id="11398" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11400" href="../Isomorphism/#11381" class="Bound">B</a>
      <a id="11408" class="Comment">-----</a>
    <a id="11418" class="Symbol">→</a> <a id="11420" href="../Isomorphism/#11379" class="Bound">A</a> <a id="11422" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11424" href="../Isomorphism/#11381" class="Bound">B</a>
  <a id="11428" href="../Isomorphism/#11365" class="Function Operator">≲-begin</a> <a id="11436" href="../Isomorphism/#11436" class="Bound">A≲B</a> <a id="11440" class="Symbol">=</a> <a id="11442" href="../Isomorphism/#11436" class="Bound">A≲B</a>

  <a id="≲-Reasoning._≲⟨_⟩_"></a><a id="11449" href="../Isomorphism/#11449" class="Function Operator">_≲⟨_⟩_</a> <a id="11456" class="Symbol">:</a> <a id="11458" class="Symbol">∀</a> <a id="11460" class="Symbol">(</a><a id="11461" href="../Isomorphism/#11461" class="Bound">A</a> <a id="11463" class="Symbol">:</a> <a id="11465" class="PrimitiveType">Set</a><a id="11468" class="Symbol">)</a> <a id="11470" class="Symbol">{</a><a id="11471" href="../Isomorphism/#11471" class="Bound">B</a> <a id="11473" href="../Isomorphism/#11473" class="Bound">C</a> <a id="11475" class="Symbol">:</a> <a id="11477" class="PrimitiveType">Set</a><a id="11480" class="Symbol">}</a>
    <a id="11486" class="Symbol">→</a> <a id="11488" href="../Isomorphism/#11461" class="Bound">A</a> <a id="11490" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11492" href="../Isomorphism/#11471" class="Bound">B</a>
    <a id="11498" class="Symbol">→</a> <a id="11500" href="../Isomorphism/#11471" class="Bound">B</a> <a id="11502" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11504" href="../Isomorphism/#11473" class="Bound">C</a>
      <a id="11512" class="Comment">-----</a>
    <a id="11522" class="Symbol">→</a> <a id="11524" href="../Isomorphism/#11461" class="Bound">A</a> <a id="11526" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11528" href="../Isomorphism/#11473" class="Bound">C</a>
  <a id="11532" href="../Isomorphism/#11532" class="Bound">A</a> <a id="11534" href="../Isomorphism/#11449" class="Function Operator">≲⟨</a> <a id="11537" href="../Isomorphism/#11537" class="Bound">A≲B</a> <a id="11541" href="../Isomorphism/#11449" class="Function Operator">⟩</a> <a id="11543" href="../Isomorphism/#11543" class="Bound">B≲C</a> <a id="11547" class="Symbol">=</a> <a id="11549" href="../Isomorphism/#9798" class="Function">≲-trans</a> <a id="11557" href="../Isomorphism/#11537" class="Bound">A≲B</a> <a id="11561" href="../Isomorphism/#11543" class="Bound">B≲C</a>

  <a id="≲-Reasoning._≲-∎"></a><a id="11568" href="../Isomorphism/#11568" class="Function Operator">_≲-∎</a> <a id="11573" class="Symbol">:</a> <a id="11575" class="Symbol">∀</a> <a id="11577" class="Symbol">(</a><a id="11578" href="../Isomorphism/#11578" class="Bound">A</a> <a id="11580" class="Symbol">:</a> <a id="11582" class="PrimitiveType">Set</a><a id="11585" class="Symbol">)</a>
      <a id="11593" class="Comment">-----</a>
    <a id="11603" class="Symbol">→</a> <a id="11605" href="../Isomorphism/#11578" class="Bound">A</a> <a id="11607" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11609" href="../Isomorphism/#11578" class="Bound">A</a>
  <a id="11613" href="../Isomorphism/#11613" class="Bound">A</a> <a id="11615" href="../Isomorphism/#11568" class="Function Operator">≲-∎</a> <a id="11619" class="Symbol">=</a> <a id="11621" href="../Isomorphism/#9666" class="Function">≲-refl</a>

<a id="11629" class="Keyword">open</a> <a id="11634" href="../Isomorphism/#11289" class="Module">≲-Reasoning</a>
</pre>
<h4 id="exercise--implies--practice">Exercise <code>≃-implies-≲</code> (practice)</h4>
Show that every isomorphism implies an embedding.
<pre class="Agda"><a id="11745" class="Keyword">postulate</a>
  <a id="≃-implies-≲"></a><a id="11757" href="../Isomorphism/#11757" class="Postulate">≃-implies-≲</a> <a id="11769" class="Symbol">:</a> <a id="11771" class="Symbol">∀</a> <a id="11773" class="Symbol">{</a><a id="11774" href="../Isomorphism/#11774" class="Bound">A</a> <a id="11776" href="../Isomorphism/#11776" class="Bound">B</a> <a id="11778" class="Symbol">:</a> <a id="11780" class="PrimitiveType">Set</a><a id="11783" class="Symbol">}</a>
    <a id="11789" class="Symbol">→</a> <a id="11791" href="../Isomorphism/#11774" class="Bound">A</a> <a id="11793" href="../Isomorphism/#4329" class="Record Operator">≃</a> <a id="11795" href="../Isomorphism/#11776" class="Bound">B</a>
      <a id="11803" class="Comment">-----</a>
    <a id="11813" class="Symbol">→</a> <a id="11815" href="../Isomorphism/#11774" class="Bound">A</a> <a id="11817" href="../Isomorphism/#9227" class="Record Operator">≲</a> <a id="11819" href="../Isomorphism/#11776" class="Bound">B</a>
</pre>
<pre class="Agda"><a id="11830" class="Comment">-- Your code goes here</a>
</pre>
<h4 id="iff">Exercise <code>_⇔_</code> (practice)</h4>
Define equivalence of propositions (also known as “if and only if”) as follows:
<pre class="Agda"><a id="11981" class="Keyword">record</a> <a id="_⇔_"></a><a id="11988" href="../Isomorphism/#11988" class="Record Operator">_⇔_</a> <a id="11992" class="Symbol">(</a><a id="11993" href="../Isomorphism/#11993" class="Bound">A</a> <a id="11995" href="../Isomorphism/#11995" class="Bound">B</a> <a id="11997" class="Symbol">:</a> <a id="11999" class="PrimitiveType">Set</a><a id="12002" class="Symbol">)</a> <a id="12004" class="Symbol">:</a> <a id="12006" class="PrimitiveType">Set</a> <a id="12010" class="Keyword">where</a>
  <a id="12018" class="Keyword">field</a>
    <a id="_⇔_.to"></a><a id="12028" href="../Isomorphism/#12028" class="Field">to</a>   <a id="12033" class="Symbol">:</a> <a id="12035" href="../Isomorphism/#11993" class="Bound">A</a> <a id="12037" class="Symbol">→</a> <a id="12039" href="../Isomorphism/#11995" class="Bound">B</a>
    <a id="_⇔_.from"></a><a id="12045" href="../Isomorphism/#12045" class="Field">from</a> <a id="12050" class="Symbol">:</a> <a id="12052" href="../Isomorphism/#11995" class="Bound">B</a> <a id="12054" class="Symbol">→</a> <a id="12056" href="../Isomorphism/#11993" class="Bound">A</a>
</pre>
<p>Show that equivalence is reflexive, symmetric, and transitive.</p>
<pre class="Agda"><a id="12130" class="Comment">-- Your code goes here</a>
</pre>
<h4 id="Bin-embedding">Exercise <code>Bin-embedding</code> (stretch)</h4>
<p>Recall that Exercises <a href="../Naturals/#Bin">Bin</a> and <a href="../Induction/#Bin-laws">Bin-laws</a> define a datatype <code>Bin</code> of bitstrings representing natural numbers, and asks you to define the following functions and predicates:</p>
<pre><code>to : ℕ → Bin
from : Bin → ℕ</code></pre>
<p>which satisfy the following property:</p>
<pre><code>from (to n) ≡ n</code></pre>
Using the above, establish that there is an embedding of <code>ℕ</code> into <code>Bin</code>.
<pre class="Agda"><a id="12603" class="Comment">-- Your code goes here</a>
</pre>
<p>Why do <code>to</code> and <code>from</code> not form an isomorphism?</p>
<h2 id="standard-library">Standard library</h2>
Definitions similar to those in this chapter can be found in the standard library:
<pre class="Agda"><a id="12788" class="Keyword">import</a> <a id="12795" href="https://agda.github.io/agda-stdlib/v1.3/Function.html" class="Module">Function</a> <a id="12804" class="Keyword">using</a> <a id="12810" class="Symbol">(</a><a id="12811" href="https://agda.github.io/agda-stdlib/v1.3/Function.Base.html#992" class="Function Operator">_∘_</a><a id="12814" class="Symbol">)</a>
<a id="12816" class="Keyword">import</a> <a id="12823" href="https://agda.github.io/agda-stdlib/v1.3/Function.Inverse.html" class="Module">Function.Inverse</a> <a id="12840" class="Keyword">using</a> <a id="12846" class="Symbol">(</a><a id="12847" href="https://agda.github.io/agda-stdlib/v1.3/Function.Inverse.html#2234" class="Function Operator">_↔_</a><a id="12850" class="Symbol">)</a>
<a id="12852" class="Keyword">import</a> <a id="12859" href="https://agda.github.io/agda-stdlib/v1.3/Function.LeftInverse.html" class="Module">Function.LeftInverse</a> <a id="12880" class="Keyword">using</a> <a id="12886" class="Symbol">(</a><a id="12887" href="https://agda.github.io/agda-stdlib/v1.3/Function.LeftInverse.html#2682" class="Function Operator">_↞_</a><a id="12890" class="Symbol">)</a>
</pre>
<p>The standard library <code>_↔︎_</code> and <code>_↞_</code> correspond to our <code>_≃_</code> and <code>_≲_</code>, respectively, but those in the standard library are less convenient, since they depend on a nested record structure and are parameterised with regard to an arbitrary notion of equivalence.</p>
<h2 id="unicode">Unicode</h2>
<p>This chapter uses the following unicode:</p>
<pre><code>∘  U+2218  RING OPERATOR (\o, \circ, \comp)
λ  U+03BB  GREEK SMALL LETTER LAMBDA (\lambda, \Gl)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~-)
≲  U+2272  LESS-THAN OR EQUIVALENT TO (\&lt;~)
⇔  U+21D4  LEFT RIGHT DOUBLE ARROW (\&lt;=&gt;)</code></pre>
    </div>
    <nav class="pager">
    <ul class="pagination">
        
        <li><a class="pagelink" href="../Equality/">Prev</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part1/Isomorphism.lagda.md">Source</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="../Connectives/">Next</a></li>
        <li class="separator">&bullet;</li>
        
    </ul>
</nav>

</article>

            </div>
        </main>
        <footer class="site-footer h-card">
    <data class="u-url" href="../"></data>
    <div class="wrapper">
        <h2 class="footer-heading">Programming Language Foundations in Agda</h2>
        
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Philip Wadler</li>
                    <li>
                        
                        <a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/wadler" title="wadler"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;wadler</a></li>
    
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Wen Kokke</li>
                    <li>
                        
                        <a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;wenkokke</a></li>
    
    
    <li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#twitter"></use></svg>&nbsp;wenkokke</a></li>
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Jeremy G. Siek</li>
                    <li>
                        
                        <a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/jsiek" title="jsiek"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;jsiek</a></li>
    
    
    <li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#twitter"></use></svg>&nbsp;jeremysiek</a></li>
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        
        This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
    </div>
</footer>

    </body>
</html>
