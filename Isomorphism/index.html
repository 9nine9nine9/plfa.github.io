<!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../public/css/style.css">
  
  <title>Programming Language Foundations in Agda – Isomorphism</title>
  
  
  
</head>

    <body>
        <header class="site-header">
    <div class="wrapper">
        <a class="site-title" href="../">Programming Language Foundations in Agda</a>
        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"></path>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"></path>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"></path>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="../">The Book</a>
                <a class="page-link" href="../Announcements/">Announcements</a>
                <a class="page-link" href="../GettingStarted/">Getting Started</a>
                <a class="page-link" href="../Citing/">Citing</a>
                <a class="page-link" href="https://agda-zh.github.io/PLFA-zh/">中文</a>
            </div>
        </nav>
    </div>
</header>

        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                <article class="post">
    <nav class="pager">
    <ul class="pagination">
        
        <li><a class="pagelink" href="../Equality/">Prev</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part1/Isomorphism.lagda.md">Source</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="../Connectives/">Next</a></li>
        <li class="separator">&bullet;</li>
        
    </ul>
</nav>

    <header class="post-header">
        <h1 class="post-title">Isomorphism: Isomorphism and Embedding</h1>
    </header>
    <div class="post-content">
        <pre class="Agda"><a id="159" class="Keyword">module</a> <a id="166" href="../Isomorphism/" class="Module">plfa.part1.Isomorphism</a> <a id="189" class="Keyword">where</a>
</pre>
<p>This section introduces isomorphism as a way of asserting that two types are equal, and embedding as a way of asserting that one type is smaller than another. We apply isomorphisms in the next chapter to demonstrate that operations on types such as product and sum satisfy properties akin to associativity, commutativity, and distributivity.</p>
<h2 id="imports">Imports</h2>
<pre class="Agda"><a id="560" class="Keyword">import</a> <a id="567" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="605" class="Symbol">as</a> <a id="608" class="Module">Eq</a>
<a id="611" class="Keyword">open</a> <a id="616" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="629" class="Symbol">;</a> <a id="631" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="635" class="Symbol">;</a> <a id="637" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="641" class="Symbol">;</a> <a id="643" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a><a id="651" class="Symbol">)</a>
<a id="653" class="Keyword">open</a> <a id="658" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">Eq.≡-Reasoning</a>
<a id="673" class="Keyword">open</a> <a id="678" class="Keyword">import</a> <a id="685" href="https://agda.github.io/agda-stdlib/v1.6/Data.Nat.html" class="Module">Data.Nat</a> <a id="694" class="Keyword">using</a> <a id="700" class="Symbol">(</a><a id="701" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="702" class="Symbol">;</a> <a id="704" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="708" class="Symbol">;</a> <a id="710" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="713" class="Symbol">;</a> <a id="715" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="718" class="Symbol">)</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="https://agda.github.io/agda-stdlib/v1.6/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="752" class="Keyword">using</a> <a id="758" class="Symbol">(</a><a id="759" href="https://agda.github.io/agda-stdlib/v1.6/Data.Nat.Properties.html#13456" class="Function">+-comm</a><a id="765" class="Symbol">)</a>
</pre>
<h2 id="lambda-expressions">Lambda expressions</h2>
<p>The chapter begins with a few preliminaries that will be useful here and elsewhere: lambda expressions, function composition, and extensionality.</p>
<p><em>Lambda expressions</em> provide a compact way to define functions without naming them. A term of the form</p>
<pre><code>λ{ P₁ → N₁; ⋯ ; Pₙ → Nₙ }</code></pre>
<p>is equivalent to a function <code>f</code> defined by the equations</p>
<pre><code>f P₁ = N₁
⋯
f Pₙ = Nₙ</code></pre>
<p>where the <code>Pₙ</code> are patterns (left-hand sides of an equation) and the <code>Nₙ</code> are expressions (right-hand side of an equation).</p>
<p>In the case that there is one equation and the pattern is a variable, we may also use the syntax</p>
<pre><code>λ x → N</code></pre>
<p>or</p>
<pre><code>λ (x : A) → N</code></pre>
<p>both of which are equivalent to <code>λ{x → N}</code>. The latter allows one to specify the domain of the function.</p>
<p>Often using an anonymous lambda expression is more convenient than using a named function: it avoids a lengthy type declaration; and the definition appears exactly where the function is used, so there is no need for the writer to remember to declare it in advance, or for the reader to search for the definition in the code.</p>
<h2 id="function-composition">Function composition</h2>
In what follows, we will make use of function composition:
<pre class="Agda"><a id="_∘_"></a><a id="1952" href="../Isomorphism/#1952" class="Function Operator">_∘_</a> <a id="1956" class="Symbol">:</a> <a id="1958" class="Symbol">∀</a> <a id="1960" class="Symbol">{</a><a id="1961" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1963" href="../Isomorphism/#1963" class="Bound">B</a> <a id="1965" href="../Isomorphism/#1965" class="Bound">C</a> <a id="1967" class="Symbol">:</a> <a id="1969" class="PrimitiveType">Set</a><a id="1972" class="Symbol">}</a> <a id="1974" class="Symbol">→</a> <a id="1976" class="Symbol">(</a><a id="1977" href="../Isomorphism/#1963" class="Bound">B</a> <a id="1979" class="Symbol">→</a> <a id="1981" href="../Isomorphism/#1965" class="Bound">C</a><a id="1982" class="Symbol">)</a> <a id="1984" class="Symbol">→</a> <a id="1986" class="Symbol">(</a><a id="1987" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1989" class="Symbol">→</a> <a id="1991" href="../Isomorphism/#1963" class="Bound">B</a><a id="1992" class="Symbol">)</a> <a id="1994" class="Symbol">→</a> <a id="1996" class="Symbol">(</a><a id="1997" href="../Isomorphism/#1961" class="Bound">A</a> <a id="1999" class="Symbol">→</a> <a id="2001" href="../Isomorphism/#1965" class="Bound">C</a><a id="2002" class="Symbol">)</a>
<a id="2004" class="Symbol">(</a><a id="2005" href="../Isomorphism/#2005" class="Bound">g</a> <a id="2007" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="2009" href="../Isomorphism/#2009" class="Bound">f</a><a id="2010" class="Symbol">)</a> <a id="2012" href="../Isomorphism/#2012" class="Bound">x</a>  <a id="2015" class="Symbol">=</a> <a id="2017" href="../Isomorphism/#2005" class="Bound">g</a> <a id="2019" class="Symbol">(</a><a id="2020" href="../Isomorphism/#2009" class="Bound">f</a> <a id="2022" href="../Isomorphism/#2012" class="Bound">x</a><a id="2023" class="Symbol">)</a>
</pre>
Thus, <code>g ∘ f</code> is the function that first applies <code>f</code> and then applies <code>g</code>. An equivalent definition, exploiting lambda expressions, is as follows:
<pre class="Agda"><a id="_∘′_"></a><a id="2181" href="../Isomorphism/#2181" class="Function Operator">_∘′_</a> <a id="2186" class="Symbol">:</a> <a id="2188" class="Symbol">∀</a> <a id="2190" class="Symbol">{</a><a id="2191" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2193" href="../Isomorphism/#2193" class="Bound">B</a> <a id="2195" href="../Isomorphism/#2195" class="Bound">C</a> <a id="2197" class="Symbol">:</a> <a id="2199" class="PrimitiveType">Set</a><a id="2202" class="Symbol">}</a> <a id="2204" class="Symbol">→</a> <a id="2206" class="Symbol">(</a><a id="2207" href="../Isomorphism/#2193" class="Bound">B</a> <a id="2209" class="Symbol">→</a> <a id="2211" href="../Isomorphism/#2195" class="Bound">C</a><a id="2212" class="Symbol">)</a> <a id="2214" class="Symbol">→</a> <a id="2216" class="Symbol">(</a><a id="2217" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2219" class="Symbol">→</a> <a id="2221" href="../Isomorphism/#2193" class="Bound">B</a><a id="2222" class="Symbol">)</a> <a id="2224" class="Symbol">→</a> <a id="2226" class="Symbol">(</a><a id="2227" href="../Isomorphism/#2191" class="Bound">A</a> <a id="2229" class="Symbol">→</a> <a id="2231" href="../Isomorphism/#2195" class="Bound">C</a><a id="2232" class="Symbol">)</a>
<a id="2234" href="../Isomorphism/#2234" class="Bound">g</a> <a id="2236" href="../Isomorphism/#2181" class="Function Operator">∘′</a> <a id="2239" href="../Isomorphism/#2239" class="Bound">f</a>  <a id="2242" class="Symbol">=</a>  <a id="2245" class="Symbol">λ</a> <a id="2247" href="../Isomorphism/#2247" class="Bound">x</a> <a id="2249" class="Symbol">→</a> <a id="2251" href="../Isomorphism/#2234" class="Bound">g</a> <a id="2253" class="Symbol">(</a><a id="2254" href="../Isomorphism/#2239" class="Bound">f</a> <a id="2256" href="../Isomorphism/#2247" class="Bound">x</a><a id="2257" class="Symbol">)</a>
</pre>
<h2 name="extensionality" id="extensionality">Extensionality</h2>
<p>Extensionality asserts that the only way to distinguish functions is by applying them; if two functions applied to the same argument always yield the same result, then they are the same function. It is the converse of <code>cong-app</code>, as introduced <a href="../Equality/#cong">earlier</a>.</p>
Agda does not presume extensionality, but we can postulate that it holds:
<pre class="Agda"><a id="2658" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="2670" href="../Isomorphism/#2670" class="Postulate">extensionality</a> <a id="2685" class="Symbol">:</a> <a id="2687" class="Symbol">∀</a> <a id="2689" class="Symbol">{</a><a id="2690" href="../Isomorphism/#2690" class="Bound">A</a> <a id="2692" href="../Isomorphism/#2692" class="Bound">B</a> <a id="2694" class="Symbol">:</a> <a id="2696" class="PrimitiveType">Set</a><a id="2699" class="Symbol">}</a> <a id="2701" class="Symbol">{</a><a id="2702" href="../Isomorphism/#2702" class="Bound">f</a> <a id="2704" href="../Isomorphism/#2704" class="Bound">g</a> <a id="2706" class="Symbol">:</a> <a id="2708" href="../Isomorphism/#2690" class="Bound">A</a> <a id="2710" class="Symbol">→</a> <a id="2712" href="../Isomorphism/#2692" class="Bound">B</a><a id="2713" class="Symbol">}</a>
    <a id="2719" class="Symbol">→</a> <a id="2721" class="Symbol">(∀</a> <a id="2724" class="Symbol">(</a><a id="2725" href="../Isomorphism/#2725" class="Bound">x</a> <a id="2727" class="Symbol">:</a> <a id="2729" href="../Isomorphism/#2690" class="Bound">A</a><a id="2730" class="Symbol">)</a> <a id="2732" class="Symbol">→</a> <a id="2734" href="../Isomorphism/#2702" class="Bound">f</a> <a id="2736" href="../Isomorphism/#2725" class="Bound">x</a> <a id="2738" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2740" href="../Isomorphism/#2704" class="Bound">g</a> <a id="2742" href="../Isomorphism/#2725" class="Bound">x</a><a id="2743" class="Symbol">)</a>
      <a id="2751" class="Comment">-----------------------</a>
    <a id="2779" class="Symbol">→</a> <a id="2781" href="../Isomorphism/#2702" class="Bound">f</a> <a id="2783" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2785" href="../Isomorphism/#2704" class="Bound">g</a>
</pre>
<p>Postulating extensionality does not lead to difficulties, as it is known to be consistent with the theory that underlies Agda.</p>
As an example, consider that we need results from two libraries, one where addition is defined, as in Chapter <a href="../Naturals/">Naturals</a>, and one where it is defined the other way around.
<pre class="Agda"><a id="_+′_"></a><a id="3107" href="../Isomorphism/#3107" class="Function Operator">_+′_</a> <a id="3112" class="Symbol">:</a> <a id="3114" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3116" class="Symbol">→</a> <a id="3118" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3120" class="Symbol">→</a> <a id="3122" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="3124" href="../Isomorphism/#3124" class="Bound">m</a> <a id="3126" href="../Isomorphism/#3107" class="Function Operator">+′</a> <a id="3129" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>  <a id="3135" class="Symbol">=</a> <a id="3137" href="../Isomorphism/#3124" class="Bound">m</a>
<a id="3139" href="../Isomorphism/#3139" class="Bound">m</a> <a id="3141" href="../Isomorphism/#3107" class="Function Operator">+′</a> <a id="3144" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3148" href="../Isomorphism/#3148" class="Bound">n</a> <a id="3150" class="Symbol">=</a> <a id="3152" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3156" class="Symbol">(</a><a id="3157" href="../Isomorphism/#3139" class="Bound">m</a> <a id="3159" href="../Isomorphism/#3107" class="Function Operator">+′</a> <a id="3162" href="../Isomorphism/#3148" class="Bound">n</a><a id="3163" class="Symbol">)</a>
</pre>
Applying commutativity, it is easy to show that both operators always return the same result given the same arguments:
<pre class="Agda"><a id="same-app"></a><a id="3292" href="../Isomorphism/#3292" class="Function">same-app</a> <a id="3301" class="Symbol">:</a> <a id="3303" class="Symbol">∀</a> <a id="3305" class="Symbol">(</a><a id="3306" href="../Isomorphism/#3306" class="Bound">m</a> <a id="3308" href="../Isomorphism/#3308" class="Bound">n</a> <a id="3310" class="Symbol">:</a> <a id="3312" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3313" class="Symbol">)</a> <a id="3315" class="Symbol">→</a> <a id="3317" href="../Isomorphism/#3306" class="Bound">m</a> <a id="3319" href="../Isomorphism/#3107" class="Function Operator">+′</a> <a id="3322" href="../Isomorphism/#3308" class="Bound">n</a> <a id="3324" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3326" href="../Isomorphism/#3306" class="Bound">m</a> <a id="3328" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3330" href="../Isomorphism/#3308" class="Bound">n</a>
<a id="3332" href="../Isomorphism/#3292" class="Function">same-app</a> <a id="3341" href="../Isomorphism/#3341" class="Bound">m</a> <a id="3343" href="../Isomorphism/#3343" class="Bound">n</a> <a id="3345" class="Keyword">rewrite</a> <a id="3353" href="https://agda.github.io/agda-stdlib/v1.6/Data.Nat.Properties.html#13456" class="Function">+-comm</a> <a id="3360" href="../Isomorphism/#3341" class="Bound">m</a> <a id="3362" href="../Isomorphism/#3343" class="Bound">n</a> <a id="3364" class="Symbol">=</a> <a id="3366" href="../Isomorphism/#3387" class="Function">helper</a> <a id="3373" href="../Isomorphism/#3341" class="Bound">m</a> <a id="3375" href="../Isomorphism/#3343" class="Bound">n</a>
  <a id="3379" class="Keyword">where</a>
  <a id="3387" href="../Isomorphism/#3387" class="Function">helper</a> <a id="3394" class="Symbol">:</a> <a id="3396" class="Symbol">∀</a> <a id="3398" class="Symbol">(</a><a id="3399" href="../Isomorphism/#3399" class="Bound">m</a> <a id="3401" href="../Isomorphism/#3401" class="Bound">n</a> <a id="3403" class="Symbol">:</a> <a id="3405" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3406" class="Symbol">)</a> <a id="3408" class="Symbol">→</a> <a id="3410" href="../Isomorphism/#3399" class="Bound">m</a> <a id="3412" href="../Isomorphism/#3107" class="Function Operator">+′</a> <a id="3415" href="../Isomorphism/#3401" class="Bound">n</a> <a id="3417" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3419" href="../Isomorphism/#3401" class="Bound">n</a> <a id="3421" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3423" href="../Isomorphism/#3399" class="Bound">m</a>
  <a id="3427" href="../Isomorphism/#3387" class="Function">helper</a> <a id="3434" href="../Isomorphism/#3434" class="Bound">m</a> <a id="3436" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="3444" class="Symbol">=</a> <a id="3446" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
  <a id="3453" href="../Isomorphism/#3387" class="Function">helper</a> <a id="3460" href="../Isomorphism/#3460" class="Bound">m</a> <a id="3462" class="Symbol">(</a><a id="3463" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3467" href="../Isomorphism/#3467" class="Bound">n</a><a id="3468" class="Symbol">)</a> <a id="3470" class="Symbol">=</a> <a id="3472" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="3477" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3481" class="Symbol">(</a><a id="3482" href="../Isomorphism/#3387" class="Function">helper</a> <a id="3489" href="../Isomorphism/#3460" class="Bound">m</a> <a id="3491" href="../Isomorphism/#3467" class="Bound">n</a><a id="3492" class="Symbol">)</a>
</pre>
However, it might be convenient to assert that the two operators are actually indistinguishable. This we can do via two applications of extensionality:
<pre class="Agda"><a id="same"></a><a id="3654" href="../Isomorphism/#3654" class="Function">same</a> <a id="3659" class="Symbol">:</a> <a id="3661" href="../Isomorphism/#3107" class="Function Operator">_+′_</a> <a id="3666" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3668" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a>
<a id="3672" href="../Isomorphism/#3654" class="Function">same</a> <a id="3677" class="Symbol">=</a> <a id="3679" href="../Isomorphism/#2670" class="Postulate">extensionality</a> <a id="3694" class="Symbol">(λ</a> <a id="3697" href="../Isomorphism/#3697" class="Bound">m</a> <a id="3699" class="Symbol">→</a> <a id="3701" href="../Isomorphism/#2670" class="Postulate">extensionality</a> <a id="3716" class="Symbol">(λ</a> <a id="3719" href="../Isomorphism/#3719" class="Bound">n</a> <a id="3721" class="Symbol">→</a> <a id="3723" href="../Isomorphism/#3292" class="Function">same-app</a> <a id="3732" href="../Isomorphism/#3697" class="Bound">m</a> <a id="3734" href="../Isomorphism/#3719" class="Bound">n</a><a id="3735" class="Symbol">))</a>
</pre>
<p>We occasionally need to postulate extensionality in what follows.</p>
More generally, we may wish to postulate extensionality for dependent functions.
<pre class="Agda"><a id="3894" class="Keyword">postulate</a>
  <a id="∀-extensionality"></a><a id="3906" href="../Isomorphism/#3906" class="Postulate">∀-extensionality</a> <a id="3923" class="Symbol">:</a> <a id="3925" class="Symbol">∀</a> <a id="3927" class="Symbol">{</a><a id="3928" href="../Isomorphism/#3928" class="Bound">A</a> <a id="3930" class="Symbol">:</a> <a id="3932" class="PrimitiveType">Set</a><a id="3935" class="Symbol">}</a> <a id="3937" class="Symbol">{</a><a id="3938" href="../Isomorphism/#3938" class="Bound">B</a> <a id="3940" class="Symbol">:</a> <a id="3942" href="../Isomorphism/#3928" class="Bound">A</a> <a id="3944" class="Symbol">→</a> <a id="3946" class="PrimitiveType">Set</a><a id="3949" class="Symbol">}</a> <a id="3951" class="Symbol">{</a><a id="3952" href="../Isomorphism/#3952" class="Bound">f</a> <a id="3954" href="../Isomorphism/#3954" class="Bound">g</a> <a id="3956" class="Symbol">:</a> <a id="3958" class="Symbol">∀(</a><a id="3960" href="../Isomorphism/#3960" class="Bound">x</a> <a id="3962" class="Symbol">:</a> <a id="3964" href="../Isomorphism/#3928" class="Bound">A</a><a id="3965" class="Symbol">)</a> <a id="3967" class="Symbol">→</a> <a id="3969" href="../Isomorphism/#3938" class="Bound">B</a> <a id="3971" href="../Isomorphism/#3960" class="Bound">x</a><a id="3972" class="Symbol">}</a>
    <a id="3978" class="Symbol">→</a> <a id="3980" class="Symbol">(∀</a> <a id="3983" class="Symbol">(</a><a id="3984" href="../Isomorphism/#3984" class="Bound">x</a> <a id="3986" class="Symbol">:</a> <a id="3988" href="../Isomorphism/#3928" class="Bound">A</a><a id="3989" class="Symbol">)</a> <a id="3991" class="Symbol">→</a> <a id="3993" href="../Isomorphism/#3952" class="Bound">f</a> <a id="3995" href="../Isomorphism/#3984" class="Bound">x</a> <a id="3997" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="3999" href="../Isomorphism/#3954" class="Bound">g</a> <a id="4001" href="../Isomorphism/#3984" class="Bound">x</a><a id="4002" class="Symbol">)</a>
      <a id="4010" class="Comment">-----------------------</a>
    <a id="4038" class="Symbol">→</a> <a id="4040" href="../Isomorphism/#3952" class="Bound">f</a> <a id="4042" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4044" href="../Isomorphism/#3954" class="Bound">g</a>
</pre>
<p>Here the type of <code>f</code> and <code>g</code> has changed from <code>A → B</code> to <code>∀ (x : A) → B x</code>, generalising ordinary functions to dependent functions.</p>
<h2 id="isomorphism">Isomorphism</h2>
Two sets are isomorphic if they are in one-to-one correspondence. Here is a formal definition of isomorphism:
<pre class="Agda"><a id="4314" class="Keyword">infix</a> <a id="4320" class="Number">0</a> <a id="4322" href="../Isomorphism/#4333" class="Record Operator">_≃_</a>
<a id="4326" class="Keyword">record</a> <a id="_≃_"></a><a id="4333" href="../Isomorphism/#4333" class="Record Operator">_≃_</a> <a id="4337" class="Symbol">(</a><a id="4338" href="../Isomorphism/#4338" class="Bound">A</a> <a id="4340" href="../Isomorphism/#4340" class="Bound">B</a> <a id="4342" class="Symbol">:</a> <a id="4344" class="PrimitiveType">Set</a><a id="4347" class="Symbol">)</a> <a id="4349" class="Symbol">:</a> <a id="4351" class="PrimitiveType">Set</a> <a id="4355" class="Keyword">where</a>
  <a id="4363" class="Keyword">field</a>
    <a id="_≃_.to"></a><a id="4373" href="../Isomorphism/#4373" class="Field">to</a>   <a id="4378" class="Symbol">:</a> <a id="4380" href="../Isomorphism/#4338" class="Bound">A</a> <a id="4382" class="Symbol">→</a> <a id="4384" href="../Isomorphism/#4340" class="Bound">B</a>
    <a id="_≃_.from"></a><a id="4390" href="../Isomorphism/#4390" class="Field">from</a> <a id="4395" class="Symbol">:</a> <a id="4397" href="../Isomorphism/#4340" class="Bound">B</a> <a id="4399" class="Symbol">→</a> <a id="4401" href="../Isomorphism/#4338" class="Bound">A</a>
    <a id="_≃_.from∘to"></a><a id="4407" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="4415" class="Symbol">:</a> <a id="4417" class="Symbol">∀</a> <a id="4419" class="Symbol">(</a><a id="4420" href="../Isomorphism/#4420" class="Bound">x</a> <a id="4422" class="Symbol">:</a> <a id="4424" href="../Isomorphism/#4338" class="Bound">A</a><a id="4425" class="Symbol">)</a> <a id="4427" class="Symbol">→</a> <a id="4429" href="../Isomorphism/#4390" class="Field">from</a> <a id="4434" class="Symbol">(</a><a id="4435" href="../Isomorphism/#4373" class="Field">to</a> <a id="4438" href="../Isomorphism/#4420" class="Bound">x</a><a id="4439" class="Symbol">)</a> <a id="4441" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4443" href="../Isomorphism/#4420" class="Bound">x</a>
    <a id="_≃_.to∘from"></a><a id="4449" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="4457" class="Symbol">:</a> <a id="4459" class="Symbol">∀</a> <a id="4461" class="Symbol">(</a><a id="4462" href="../Isomorphism/#4462" class="Bound">y</a> <a id="4464" class="Symbol">:</a> <a id="4466" href="../Isomorphism/#4340" class="Bound">B</a><a id="4467" class="Symbol">)</a> <a id="4469" class="Symbol">→</a> <a id="4471" href="../Isomorphism/#4373" class="Field">to</a> <a id="4474" class="Symbol">(</a><a id="4475" href="../Isomorphism/#4390" class="Field">from</a> <a id="4480" href="../Isomorphism/#4462" class="Bound">y</a><a id="4481" class="Symbol">)</a> <a id="4483" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="4485" href="../Isomorphism/#4462" class="Bound">y</a>
<a id="4487" class="Keyword">open</a> <a id="4492" href="../Isomorphism/#4333" class="Module Operator">_≃_</a>
</pre>
<p>Let’s unpack the definition. An isomorphism between sets <code>A</code> and <code>B</code> consists of four things: + A function <code>to</code> from <code>A</code> to <code>B</code>, + A function <code>from</code> from <code>B</code> back to <code>A</code>, + Evidence <code>from∘to</code> asserting that <code>from</code> is a <em>left-inverse</em> for <code>to</code>, + Evidence <code>to∘from</code> asserting that <code>from</code> is a <em>right-inverse</em> for <code>to</code>.</p>
<p>In particular, the third asserts that <code>from ∘ to</code> is the identity, and the fourth that <code>to ∘ from</code> is the identity, hence the names. The declaration <code>open _≃_</code> makes available the names <code>to</code>, <code>from</code>, <code>from∘to</code>, and <code>to∘from</code>, otherwise we would need to write <code>_≃_.to</code> and so on.</p>
The above is our first use of records. A record declaration behaves similar to a single-constructor data declaration (there are minor differences, which we discuss in <a href="../Connectives/">Connectives</a>):
<pre class="Agda"><a id="5301" class="Keyword">data</a> <a id="_≃′_"></a><a id="5306" href="../Isomorphism/#5306" class="Datatype Operator">_≃′_</a> <a id="5311" class="Symbol">(</a><a id="5312" href="../Isomorphism/#5312" class="Bound">A</a> <a id="5314" href="../Isomorphism/#5314" class="Bound">B</a> <a id="5316" class="Symbol">:</a> <a id="5318" class="PrimitiveType">Set</a><a id="5321" class="Symbol">):</a> <a id="5324" class="PrimitiveType">Set</a> <a id="5328" class="Keyword">where</a>
  <a id="_≃′_.mk-≃′"></a><a id="5336" href="../Isomorphism/#5336" class="InductiveConstructor">mk-≃′</a> <a id="5342" class="Symbol">:</a> <a id="5344" class="Symbol">∀</a> <a id="5346" class="Symbol">(</a><a id="5347" href="../Isomorphism/#5347" class="Bound">to</a> <a id="5350" class="Symbol">:</a> <a id="5352" href="../Isomorphism/#5312" class="Bound">A</a> <a id="5354" class="Symbol">→</a> <a id="5356" href="../Isomorphism/#5314" class="Bound">B</a><a id="5357" class="Symbol">)</a> <a id="5359" class="Symbol">→</a>
          <a id="5371" class="Symbol">∀</a> <a id="5373" class="Symbol">(</a><a id="5374" href="../Isomorphism/#5374" class="Bound">from</a> <a id="5379" class="Symbol">:</a> <a id="5381" href="../Isomorphism/#5314" class="Bound">B</a> <a id="5383" class="Symbol">→</a> <a id="5385" href="../Isomorphism/#5312" class="Bound">A</a><a id="5386" class="Symbol">)</a> <a id="5388" class="Symbol">→</a>
          <a id="5400" class="Symbol">∀</a> <a id="5402" class="Symbol">(</a><a id="5403" href="../Isomorphism/#5403" class="Bound">from∘to</a> <a id="5411" class="Symbol">:</a> <a id="5413" class="Symbol">(∀</a> <a id="5416" class="Symbol">(</a><a id="5417" href="../Isomorphism/#5417" class="Bound">x</a> <a id="5419" class="Symbol">:</a> <a id="5421" href="../Isomorphism/#5312" class="Bound">A</a><a id="5422" class="Symbol">)</a> <a id="5424" class="Symbol">→</a> <a id="5426" href="../Isomorphism/#5374" class="Bound">from</a> <a id="5431" class="Symbol">(</a><a id="5432" href="../Isomorphism/#5347" class="Bound">to</a> <a id="5435" href="../Isomorphism/#5417" class="Bound">x</a><a id="5436" class="Symbol">)</a> <a id="5438" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5440" href="../Isomorphism/#5417" class="Bound">x</a><a id="5441" class="Symbol">))</a> <a id="5444" class="Symbol">→</a>
          <a id="5456" class="Symbol">∀</a> <a id="5458" class="Symbol">(</a><a id="5459" href="../Isomorphism/#5459" class="Bound">to∘from</a> <a id="5467" class="Symbol">:</a> <a id="5469" class="Symbol">(∀</a> <a id="5472" class="Symbol">(</a><a id="5473" href="../Isomorphism/#5473" class="Bound">y</a> <a id="5475" class="Symbol">:</a> <a id="5477" href="../Isomorphism/#5314" class="Bound">B</a><a id="5478" class="Symbol">)</a> <a id="5480" class="Symbol">→</a> <a id="5482" href="../Isomorphism/#5347" class="Bound">to</a> <a id="5485" class="Symbol">(</a><a id="5486" href="../Isomorphism/#5374" class="Bound">from</a> <a id="5491" href="../Isomorphism/#5473" class="Bound">y</a><a id="5492" class="Symbol">)</a> <a id="5494" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5496" href="../Isomorphism/#5473" class="Bound">y</a><a id="5497" class="Symbol">))</a> <a id="5500" class="Symbol">→</a>
          <a id="5512" href="../Isomorphism/#5312" class="Bound">A</a> <a id="5514" href="../Isomorphism/#5306" class="Datatype Operator">≃′</a> <a id="5517" href="../Isomorphism/#5314" class="Bound">B</a>

<a id="to′"></a><a id="5520" href="../Isomorphism/#5520" class="Function">to′</a> <a id="5524" class="Symbol">:</a> <a id="5526" class="Symbol">∀</a> <a id="5528" class="Symbol">{</a><a id="5529" href="../Isomorphism/#5529" class="Bound">A</a> <a id="5531" href="../Isomorphism/#5531" class="Bound">B</a> <a id="5533" class="Symbol">:</a> <a id="5535" class="PrimitiveType">Set</a><a id="5538" class="Symbol">}</a> <a id="5540" class="Symbol">→</a> <a id="5542" class="Symbol">(</a><a id="5543" href="../Isomorphism/#5529" class="Bound">A</a> <a id="5545" href="../Isomorphism/#5306" class="Datatype Operator">≃′</a> <a id="5548" href="../Isomorphism/#5531" class="Bound">B</a><a id="5549" class="Symbol">)</a> <a id="5551" class="Symbol">→</a> <a id="5553" class="Symbol">(</a><a id="5554" href="../Isomorphism/#5529" class="Bound">A</a> <a id="5556" class="Symbol">→</a> <a id="5558" href="../Isomorphism/#5531" class="Bound">B</a><a id="5559" class="Symbol">)</a>
<a id="5561" href="../Isomorphism/#5520" class="Function">to′</a> <a id="5565" class="Symbol">(</a><a id="5566" href="../Isomorphism/#5336" class="InductiveConstructor">mk-≃′</a> <a id="5572" href="../Isomorphism/#5572" class="Bound">f</a> <a id="5574" href="../Isomorphism/#5574" class="Bound">g</a> <a id="5576" href="../Isomorphism/#5576" class="Bound">g∘f</a> <a id="5580" href="../Isomorphism/#5580" class="Bound">f∘g</a><a id="5583" class="Symbol">)</a> <a id="5585" class="Symbol">=</a> <a id="5587" href="../Isomorphism/#5572" class="Bound">f</a>

<a id="from′"></a><a id="5590" href="../Isomorphism/#5590" class="Function">from′</a> <a id="5596" class="Symbol">:</a> <a id="5598" class="Symbol">∀</a> <a id="5600" class="Symbol">{</a><a id="5601" href="../Isomorphism/#5601" class="Bound">A</a> <a id="5603" href="../Isomorphism/#5603" class="Bound">B</a> <a id="5605" class="Symbol">:</a> <a id="5607" class="PrimitiveType">Set</a><a id="5610" class="Symbol">}</a> <a id="5612" class="Symbol">→</a> <a id="5614" class="Symbol">(</a><a id="5615" href="../Isomorphism/#5601" class="Bound">A</a> <a id="5617" href="../Isomorphism/#5306" class="Datatype Operator">≃′</a> <a id="5620" href="../Isomorphism/#5603" class="Bound">B</a><a id="5621" class="Symbol">)</a> <a id="5623" class="Symbol">→</a> <a id="5625" class="Symbol">(</a><a id="5626" href="../Isomorphism/#5603" class="Bound">B</a> <a id="5628" class="Symbol">→</a> <a id="5630" href="../Isomorphism/#5601" class="Bound">A</a><a id="5631" class="Symbol">)</a>
<a id="5633" href="../Isomorphism/#5590" class="Function">from′</a> <a id="5639" class="Symbol">(</a><a id="5640" href="../Isomorphism/#5336" class="InductiveConstructor">mk-≃′</a> <a id="5646" href="../Isomorphism/#5646" class="Bound">f</a> <a id="5648" href="../Isomorphism/#5648" class="Bound">g</a> <a id="5650" href="../Isomorphism/#5650" class="Bound">g∘f</a> <a id="5654" href="../Isomorphism/#5654" class="Bound">f∘g</a><a id="5657" class="Symbol">)</a> <a id="5659" class="Symbol">=</a> <a id="5661" href="../Isomorphism/#5648" class="Bound">g</a>

<a id="from∘to′"></a><a id="5664" href="../Isomorphism/#5664" class="Function">from∘to′</a> <a id="5673" class="Symbol">:</a> <a id="5675" class="Symbol">∀</a> <a id="5677" class="Symbol">{</a><a id="5678" href="../Isomorphism/#5678" class="Bound">A</a> <a id="5680" href="../Isomorphism/#5680" class="Bound">B</a> <a id="5682" class="Symbol">:</a> <a id="5684" class="PrimitiveType">Set</a><a id="5687" class="Symbol">}</a> <a id="5689" class="Symbol">→</a> <a id="5691" class="Symbol">(</a><a id="5692" href="../Isomorphism/#5692" class="Bound">A≃B</a> <a id="5696" class="Symbol">:</a> <a id="5698" href="../Isomorphism/#5678" class="Bound">A</a> <a id="5700" href="../Isomorphism/#5306" class="Datatype Operator">≃′</a> <a id="5703" href="../Isomorphism/#5680" class="Bound">B</a><a id="5704" class="Symbol">)</a> <a id="5706" class="Symbol">→</a> <a id="5708" class="Symbol">(∀</a> <a id="5711" class="Symbol">(</a><a id="5712" href="../Isomorphism/#5712" class="Bound">x</a> <a id="5714" class="Symbol">:</a> <a id="5716" href="../Isomorphism/#5678" class="Bound">A</a><a id="5717" class="Symbol">)</a> <a id="5719" class="Symbol">→</a> <a id="5721" href="../Isomorphism/#5590" class="Function">from′</a> <a id="5727" href="../Isomorphism/#5692" class="Bound">A≃B</a> <a id="5731" class="Symbol">(</a><a id="5732" href="../Isomorphism/#5520" class="Function">to′</a> <a id="5736" href="../Isomorphism/#5692" class="Bound">A≃B</a> <a id="5740" href="../Isomorphism/#5712" class="Bound">x</a><a id="5741" class="Symbol">)</a> <a id="5743" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5745" href="../Isomorphism/#5712" class="Bound">x</a><a id="5746" class="Symbol">)</a>
<a id="5748" href="../Isomorphism/#5664" class="Function">from∘to′</a> <a id="5757" class="Symbol">(</a><a id="5758" href="../Isomorphism/#5336" class="InductiveConstructor">mk-≃′</a> <a id="5764" href="../Isomorphism/#5764" class="Bound">f</a> <a id="5766" href="../Isomorphism/#5766" class="Bound">g</a> <a id="5768" href="../Isomorphism/#5768" class="Bound">g∘f</a> <a id="5772" href="../Isomorphism/#5772" class="Bound">f∘g</a><a id="5775" class="Symbol">)</a> <a id="5777" class="Symbol">=</a> <a id="5779" href="../Isomorphism/#5768" class="Bound">g∘f</a>

<a id="to∘from′"></a><a id="5784" href="../Isomorphism/#5784" class="Function">to∘from′</a> <a id="5793" class="Symbol">:</a> <a id="5795" class="Symbol">∀</a> <a id="5797" class="Symbol">{</a><a id="5798" href="../Isomorphism/#5798" class="Bound">A</a> <a id="5800" href="../Isomorphism/#5800" class="Bound">B</a> <a id="5802" class="Symbol">:</a> <a id="5804" class="PrimitiveType">Set</a><a id="5807" class="Symbol">}</a> <a id="5809" class="Symbol">→</a> <a id="5811" class="Symbol">(</a><a id="5812" href="../Isomorphism/#5812" class="Bound">A≃B</a> <a id="5816" class="Symbol">:</a> <a id="5818" href="../Isomorphism/#5798" class="Bound">A</a> <a id="5820" href="../Isomorphism/#5306" class="Datatype Operator">≃′</a> <a id="5823" href="../Isomorphism/#5800" class="Bound">B</a><a id="5824" class="Symbol">)</a> <a id="5826" class="Symbol">→</a> <a id="5828" class="Symbol">(∀</a> <a id="5831" class="Symbol">(</a><a id="5832" href="../Isomorphism/#5832" class="Bound">y</a> <a id="5834" class="Symbol">:</a> <a id="5836" href="../Isomorphism/#5800" class="Bound">B</a><a id="5837" class="Symbol">)</a> <a id="5839" class="Symbol">→</a> <a id="5841" href="../Isomorphism/#5520" class="Function">to′</a> <a id="5845" href="../Isomorphism/#5812" class="Bound">A≃B</a> <a id="5849" class="Symbol">(</a><a id="5850" href="../Isomorphism/#5590" class="Function">from′</a> <a id="5856" href="../Isomorphism/#5812" class="Bound">A≃B</a> <a id="5860" href="../Isomorphism/#5832" class="Bound">y</a><a id="5861" class="Symbol">)</a> <a id="5863" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5865" href="../Isomorphism/#5832" class="Bound">y</a><a id="5866" class="Symbol">)</a>
<a id="5868" href="../Isomorphism/#5784" class="Function">to∘from′</a> <a id="5877" class="Symbol">(</a><a id="5878" href="../Isomorphism/#5336" class="InductiveConstructor">mk-≃′</a> <a id="5884" href="../Isomorphism/#5884" class="Bound">f</a> <a id="5886" href="../Isomorphism/#5886" class="Bound">g</a> <a id="5888" href="../Isomorphism/#5888" class="Bound">g∘f</a> <a id="5892" href="../Isomorphism/#5892" class="Bound">f∘g</a><a id="5895" class="Symbol">)</a> <a id="5897" class="Symbol">=</a> <a id="5899" href="../Isomorphism/#5892" class="Bound">f∘g</a>
</pre>
<p>We construct values of the record type with the syntax</p>
<pre><code>record
  { to    = f
  ; from  = g
  ; from∘to = g∘f
  ; to∘from = f∘g
  }</code></pre>
<p>which corresponds to using the constructor of the corresponding inductive type</p>
<pre><code>mk-≃′ f g g∘f f∘g</code></pre>
<p>where <code>f</code>, <code>g</code>, <code>g∘f</code>, and <code>f∘g</code> are values of suitable types.</p>
<h2 id="isomorphism-is-an-equivalence">Isomorphism is an equivalence</h2>
Isomorphism is an equivalence, meaning that it is reflexive, symmetric, and transitive. To show isomorphism is reflexive, we take both <code>to</code> and <code>from</code> to be the identity function:
<pre class="Agda"><a id="≃-refl"></a><a id="6451" href="../Isomorphism/#6451" class="Function">≃-refl</a> <a id="6458" class="Symbol">:</a> <a id="6460" class="Symbol">∀</a> <a id="6462" class="Symbol">{</a><a id="6463" href="../Isomorphism/#6463" class="Bound">A</a> <a id="6465" class="Symbol">:</a> <a id="6467" class="PrimitiveType">Set</a><a id="6470" class="Symbol">}</a>
    <a id="6476" class="Comment">-----</a>
  <a id="6484" class="Symbol">→</a> <a id="6486" href="../Isomorphism/#6463" class="Bound">A</a> <a id="6488" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="6490" href="../Isomorphism/#6463" class="Bound">A</a>
<a id="6492" href="../Isomorphism/#6451" class="Function">≃-refl</a> <a id="6499" class="Symbol">=</a>
  <a id="6503" class="Keyword">record</a>
    <a id="6514" class="Symbol">{</a> <a id="6516" href="../Isomorphism/#4373" class="Field">to</a>      <a id="6524" class="Symbol">=</a> <a id="6526" class="Symbol">λ{</a><a id="6528" href="../Isomorphism/#6528" class="Bound">x</a> <a id="6530" class="Symbol">→</a> <a id="6532" href="../Isomorphism/#6528" class="Bound">x</a><a id="6533" class="Symbol">}</a>
    <a id="6539" class="Symbol">;</a> <a id="6541" href="../Isomorphism/#4390" class="Field">from</a>    <a id="6549" class="Symbol">=</a> <a id="6551" class="Symbol">λ{</a><a id="6553" href="../Isomorphism/#6553" class="Bound">y</a> <a id="6555" class="Symbol">→</a> <a id="6557" href="../Isomorphism/#6553" class="Bound">y</a><a id="6558" class="Symbol">}</a>
    <a id="6564" class="Symbol">;</a> <a id="6566" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="6574" class="Symbol">=</a> <a id="6576" class="Symbol">λ{</a><a id="6578" href="../Isomorphism/#6578" class="Bound">x</a> <a id="6580" class="Symbol">→</a> <a id="6582" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="6586" class="Symbol">}</a>
    <a id="6592" class="Symbol">;</a> <a id="6594" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="6602" class="Symbol">=</a> <a id="6604" class="Symbol">λ{</a><a id="6606" href="../Isomorphism/#6606" class="Bound">y</a> <a id="6608" class="Symbol">→</a> <a id="6610" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="6614" class="Symbol">}</a>
    <a id="6620" class="Symbol">}</a>
</pre>
<p>In the above, <code>to</code> and <code>from</code> are both bound to identity functions, and <code>from∘to</code> and <code>to∘from</code> are both bound to functions that discard their argument and return <code>refl</code>. In this case, <code>refl</code> alone is an adequate proof since for the left inverse, <code>from (to x)</code> simplifies to <code>x</code>, and similarly for the right inverse.</p>
To show isomorphism is symmetric, we simply swap the roles of <code>to</code> and <code>from</code>, and <code>from∘to</code> and <code>to∘from</code>:
<pre class="Agda"><a id="≃-sym"></a><a id="7057" href="../Isomorphism/#7057" class="Function">≃-sym</a> <a id="7063" class="Symbol">:</a> <a id="7065" class="Symbol">∀</a> <a id="7067" class="Symbol">{</a><a id="7068" href="../Isomorphism/#7068" class="Bound">A</a> <a id="7070" href="../Isomorphism/#7070" class="Bound">B</a> <a id="7072" class="Symbol">:</a> <a id="7074" class="PrimitiveType">Set</a><a id="7077" class="Symbol">}</a>
  <a id="7081" class="Symbol">→</a> <a id="7083" href="../Isomorphism/#7068" class="Bound">A</a> <a id="7085" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="7087" href="../Isomorphism/#7070" class="Bound">B</a>
    <a id="7093" class="Comment">-----</a>
  <a id="7101" class="Symbol">→</a> <a id="7103" href="../Isomorphism/#7070" class="Bound">B</a> <a id="7105" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="7107" href="../Isomorphism/#7068" class="Bound">A</a>
<a id="7109" href="../Isomorphism/#7057" class="Function">≃-sym</a> <a id="7115" href="../Isomorphism/#7115" class="Bound">A≃B</a> <a id="7119" class="Symbol">=</a>
  <a id="7123" class="Keyword">record</a>
    <a id="7134" class="Symbol">{</a> <a id="7136" href="../Isomorphism/#4373" class="Field">to</a>      <a id="7144" class="Symbol">=</a> <a id="7146" href="../Isomorphism/#4390" class="Field">from</a> <a id="7151" href="../Isomorphism/#7115" class="Bound">A≃B</a>
    <a id="7159" class="Symbol">;</a> <a id="7161" href="../Isomorphism/#4390" class="Field">from</a>    <a id="7169" class="Symbol">=</a> <a id="7171" href="../Isomorphism/#4373" class="Field">to</a>   <a id="7176" href="../Isomorphism/#7115" class="Bound">A≃B</a>
    <a id="7184" class="Symbol">;</a> <a id="7186" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="7194" class="Symbol">=</a> <a id="7196" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="7204" href="../Isomorphism/#7115" class="Bound">A≃B</a>
    <a id="7212" class="Symbol">;</a> <a id="7214" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="7222" class="Symbol">=</a> <a id="7224" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="7232" href="../Isomorphism/#7115" class="Bound">A≃B</a>
    <a id="7240" class="Symbol">}</a>
</pre>
To show isomorphism is transitive, we compose the <code>to</code> and <code>from</code> functions, and use equational reasoning to combine the inverses:
<pre class="Agda"><a id="≃-trans"></a><a id="7382" href="../Isomorphism/#7382" class="Function">≃-trans</a> <a id="7390" class="Symbol">:</a> <a id="7392" class="Symbol">∀</a> <a id="7394" class="Symbol">{</a><a id="7395" href="../Isomorphism/#7395" class="Bound">A</a> <a id="7397" href="../Isomorphism/#7397" class="Bound">B</a> <a id="7399" href="../Isomorphism/#7399" class="Bound">C</a> <a id="7401" class="Symbol">:</a> <a id="7403" class="PrimitiveType">Set</a><a id="7406" class="Symbol">}</a>
  <a id="7410" class="Symbol">→</a> <a id="7412" href="../Isomorphism/#7395" class="Bound">A</a> <a id="7414" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="7416" href="../Isomorphism/#7397" class="Bound">B</a>
  <a id="7420" class="Symbol">→</a> <a id="7422" href="../Isomorphism/#7397" class="Bound">B</a> <a id="7424" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="7426" href="../Isomorphism/#7399" class="Bound">C</a>
    <a id="7432" class="Comment">-----</a>
  <a id="7440" class="Symbol">→</a> <a id="7442" href="../Isomorphism/#7395" class="Bound">A</a> <a id="7444" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="7446" href="../Isomorphism/#7399" class="Bound">C</a>
<a id="7448" href="../Isomorphism/#7382" class="Function">≃-trans</a> <a id="7456" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7460" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7464" class="Symbol">=</a>
  <a id="7468" class="Keyword">record</a>
    <a id="7479" class="Symbol">{</a> <a id="7481" href="../Isomorphism/#4373" class="Field">to</a>       <a id="7490" class="Symbol">=</a> <a id="7492" href="../Isomorphism/#4373" class="Field">to</a>   <a id="7497" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7501" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7503" href="../Isomorphism/#4373" class="Field">to</a>   <a id="7508" href="../Isomorphism/#7456" class="Bound">A≃B</a>
    <a id="7516" class="Symbol">;</a> <a id="7518" href="../Isomorphism/#4390" class="Field">from</a>     <a id="7527" class="Symbol">=</a> <a id="7529" href="../Isomorphism/#4390" class="Field">from</a> <a id="7534" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7538" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7540" href="../Isomorphism/#4390" class="Field">from</a> <a id="7545" href="../Isomorphism/#7460" class="Bound">B≃C</a>
    <a id="7553" class="Symbol">;</a> <a id="7555" href="../Isomorphism/#4407" class="Field">from∘to</a>  <a id="7564" class="Symbol">=</a> <a id="7566" class="Symbol">λ{</a><a id="7568" href="../Isomorphism/#7568" class="Bound">x</a> <a id="7570" class="Symbol">→</a>
        <a id="7580" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
          <a id="7596" class="Symbol">(</a><a id="7597" href="../Isomorphism/#4390" class="Field">from</a> <a id="7602" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7606" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7608" href="../Isomorphism/#4390" class="Field">from</a> <a id="7613" href="../Isomorphism/#7460" class="Bound">B≃C</a><a id="7616" class="Symbol">)</a> <a id="7618" class="Symbol">((</a><a id="7620" href="../Isomorphism/#4373" class="Field">to</a> <a id="7623" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7627" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7629" href="../Isomorphism/#4373" class="Field">to</a> <a id="7632" href="../Isomorphism/#7456" class="Bound">A≃B</a><a id="7635" class="Symbol">)</a> <a id="7637" href="../Isomorphism/#7568" class="Bound">x</a><a id="7638" class="Symbol">)</a>
        <a id="7648" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
          <a id="7662" href="../Isomorphism/#4390" class="Field">from</a> <a id="7667" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7671" class="Symbol">(</a><a id="7672" href="../Isomorphism/#4390" class="Field">from</a> <a id="7677" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7681" class="Symbol">(</a><a id="7682" href="../Isomorphism/#4373" class="Field">to</a> <a id="7685" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7689" class="Symbol">(</a><a id="7690" href="../Isomorphism/#4373" class="Field">to</a> <a id="7693" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7697" href="../Isomorphism/#7568" class="Bound">x</a><a id="7698" class="Symbol">)))</a>
        <a id="7710" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7713" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="7718" class="Symbol">(</a><a id="7719" href="../Isomorphism/#4390" class="Field">from</a> <a id="7724" href="../Isomorphism/#7456" class="Bound">A≃B</a><a id="7727" class="Symbol">)</a> <a id="7729" class="Symbol">(</a><a id="7730" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="7738" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7742" class="Symbol">(</a><a id="7743" href="../Isomorphism/#4373" class="Field">to</a> <a id="7746" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7750" href="../Isomorphism/#7568" class="Bound">x</a><a id="7751" class="Symbol">))</a> <a id="7754" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="7766" href="../Isomorphism/#4390" class="Field">from</a> <a id="7771" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7775" class="Symbol">(</a><a id="7776" href="../Isomorphism/#4373" class="Field">to</a> <a id="7779" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7783" href="../Isomorphism/#7568" class="Bound">x</a><a id="7784" class="Symbol">)</a>
        <a id="7794" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7797" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="7805" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7809" href="../Isomorphism/#7568" class="Bound">x</a> <a id="7811" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="7823" href="../Isomorphism/#7568" class="Bound">x</a>
        <a id="7833" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a><a id="7834" class="Symbol">}</a>
    <a id="7840" class="Symbol">;</a> <a id="7842" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="7850" class="Symbol">=</a> <a id="7852" class="Symbol">λ{</a><a id="7854" href="../Isomorphism/#7854" class="Bound">y</a> <a id="7856" class="Symbol">→</a>
        <a id="7866" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
          <a id="7882" class="Symbol">(</a><a id="7883" href="../Isomorphism/#4373" class="Field">to</a> <a id="7886" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7890" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7892" href="../Isomorphism/#4373" class="Field">to</a> <a id="7895" href="../Isomorphism/#7456" class="Bound">A≃B</a><a id="7898" class="Symbol">)</a> <a id="7900" class="Symbol">((</a><a id="7902" href="../Isomorphism/#4390" class="Field">from</a> <a id="7907" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7911" href="../Isomorphism/#1952" class="Function Operator">∘</a> <a id="7913" href="../Isomorphism/#4390" class="Field">from</a> <a id="7918" href="../Isomorphism/#7460" class="Bound">B≃C</a><a id="7921" class="Symbol">)</a> <a id="7923" href="../Isomorphism/#7854" class="Bound">y</a><a id="7924" class="Symbol">)</a>
        <a id="7934" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2864" class="Function Operator">≡⟨⟩</a>
          <a id="7948" href="../Isomorphism/#4373" class="Field">to</a> <a id="7951" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7955" class="Symbol">(</a><a id="7956" href="../Isomorphism/#4373" class="Field">to</a> <a id="7959" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7963" class="Symbol">(</a><a id="7964" href="../Isomorphism/#4390" class="Field">from</a> <a id="7969" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="7973" class="Symbol">(</a><a id="7974" href="../Isomorphism/#4390" class="Field">from</a> <a id="7979" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="7983" href="../Isomorphism/#7854" class="Bound">y</a><a id="7984" class="Symbol">)))</a>
        <a id="7996" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="7999" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="8004" class="Symbol">(</a><a id="8005" href="../Isomorphism/#4373" class="Field">to</a> <a id="8008" href="../Isomorphism/#7460" class="Bound">B≃C</a><a id="8011" class="Symbol">)</a> <a id="8013" class="Symbol">(</a><a id="8014" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="8022" href="../Isomorphism/#7456" class="Bound">A≃B</a> <a id="8026" class="Symbol">(</a><a id="8027" href="../Isomorphism/#4390" class="Field">from</a> <a id="8032" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="8036" href="../Isomorphism/#7854" class="Bound">y</a><a id="8037" class="Symbol">))</a> <a id="8040" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="8052" href="../Isomorphism/#4373" class="Field">to</a> <a id="8055" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="8059" class="Symbol">(</a><a id="8060" href="../Isomorphism/#4390" class="Field">from</a> <a id="8065" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="8069" href="../Isomorphism/#7854" class="Bound">y</a><a id="8070" class="Symbol">)</a>
        <a id="8080" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="8083" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="8091" href="../Isomorphism/#7460" class="Bound">B≃C</a> <a id="8095" href="../Isomorphism/#7854" class="Bound">y</a> <a id="8097" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="8109" href="../Isomorphism/#7854" class="Bound">y</a>
        <a id="8119" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a><a id="8120" class="Symbol">}</a>
     <a id="8127" class="Symbol">}</a>
</pre>
<h2 id="equational-reasoning-for-isomorphism">Equational reasoning for isomorphism</h2>
<p>It is straightforward to support a variant of equational reasoning for isomorphism. We essentially copy the previous definition of equality for isomorphism. We omit the form that corresponds to <code>_≡⟨⟩_</code>, since trivial isomorphisms arise far less often than trivial equalities:</p>
<pre class="Agda"><a id="8459" class="Keyword">module</a> <a id="≃-Reasoning"></a><a id="8466" href="../Isomorphism/#8466" class="Module">≃-Reasoning</a> <a id="8478" class="Keyword">where</a>

  <a id="8487" class="Keyword">infix</a>  <a id="8494" class="Number">1</a> <a id="8496" href="../Isomorphism/#8542" class="Function Operator">≃-begin_</a>
  <a id="8507" class="Keyword">infixr</a> <a id="8514" class="Number">2</a> <a id="8516" href="../Isomorphism/#8626" class="Function Operator">_≃⟨_⟩_</a>
  <a id="8525" class="Keyword">infix</a>  <a id="8532" class="Number">3</a> <a id="8534" href="../Isomorphism/#8745" class="Function Operator">_≃-∎</a>

  <a id="≃-Reasoning.≃-begin_"></a><a id="8542" href="../Isomorphism/#8542" class="Function Operator">≃-begin_</a> <a id="8551" class="Symbol">:</a> <a id="8553" class="Symbol">∀</a> <a id="8555" class="Symbol">{</a><a id="8556" href="../Isomorphism/#8556" class="Bound">A</a> <a id="8558" href="../Isomorphism/#8558" class="Bound">B</a> <a id="8560" class="Symbol">:</a> <a id="8562" class="PrimitiveType">Set</a><a id="8565" class="Symbol">}</a>
    <a id="8571" class="Symbol">→</a> <a id="8573" href="../Isomorphism/#8556" class="Bound">A</a> <a id="8575" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8577" href="../Isomorphism/#8558" class="Bound">B</a>
      <a id="8585" class="Comment">-----</a>
    <a id="8595" class="Symbol">→</a> <a id="8597" href="../Isomorphism/#8556" class="Bound">A</a> <a id="8599" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8601" href="../Isomorphism/#8558" class="Bound">B</a>
  <a id="8605" href="../Isomorphism/#8542" class="Function Operator">≃-begin</a> <a id="8613" href="../Isomorphism/#8613" class="Bound">A≃B</a> <a id="8617" class="Symbol">=</a> <a id="8619" href="../Isomorphism/#8613" class="Bound">A≃B</a>

  <a id="≃-Reasoning._≃⟨_⟩_"></a><a id="8626" href="../Isomorphism/#8626" class="Function Operator">_≃⟨_⟩_</a> <a id="8633" class="Symbol">:</a> <a id="8635" class="Symbol">∀</a> <a id="8637" class="Symbol">(</a><a id="8638" href="../Isomorphism/#8638" class="Bound">A</a> <a id="8640" class="Symbol">:</a> <a id="8642" class="PrimitiveType">Set</a><a id="8645" class="Symbol">)</a> <a id="8647" class="Symbol">{</a><a id="8648" href="../Isomorphism/#8648" class="Bound">B</a> <a id="8650" href="../Isomorphism/#8650" class="Bound">C</a> <a id="8652" class="Symbol">:</a> <a id="8654" class="PrimitiveType">Set</a><a id="8657" class="Symbol">}</a>
    <a id="8663" class="Symbol">→</a> <a id="8665" href="../Isomorphism/#8638" class="Bound">A</a> <a id="8667" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8669" href="../Isomorphism/#8648" class="Bound">B</a>
    <a id="8675" class="Symbol">→</a> <a id="8677" href="../Isomorphism/#8648" class="Bound">B</a> <a id="8679" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8681" href="../Isomorphism/#8650" class="Bound">C</a>
      <a id="8689" class="Comment">-----</a>
    <a id="8699" class="Symbol">→</a> <a id="8701" href="../Isomorphism/#8638" class="Bound">A</a> <a id="8703" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8705" href="../Isomorphism/#8650" class="Bound">C</a>
  <a id="8709" href="../Isomorphism/#8709" class="Bound">A</a> <a id="8711" href="../Isomorphism/#8626" class="Function Operator">≃⟨</a> <a id="8714" href="../Isomorphism/#8714" class="Bound">A≃B</a> <a id="8718" href="../Isomorphism/#8626" class="Function Operator">⟩</a> <a id="8720" href="../Isomorphism/#8720" class="Bound">B≃C</a> <a id="8724" class="Symbol">=</a> <a id="8726" href="../Isomorphism/#7382" class="Function">≃-trans</a> <a id="8734" href="../Isomorphism/#8714" class="Bound">A≃B</a> <a id="8738" href="../Isomorphism/#8720" class="Bound">B≃C</a>

  <a id="≃-Reasoning._≃-∎"></a><a id="8745" href="../Isomorphism/#8745" class="Function Operator">_≃-∎</a> <a id="8750" class="Symbol">:</a> <a id="8752" class="Symbol">∀</a> <a id="8754" class="Symbol">(</a><a id="8755" href="../Isomorphism/#8755" class="Bound">A</a> <a id="8757" class="Symbol">:</a> <a id="8759" class="PrimitiveType">Set</a><a id="8762" class="Symbol">)</a>
      <a id="8770" class="Comment">-----</a>
    <a id="8780" class="Symbol">→</a> <a id="8782" href="../Isomorphism/#8755" class="Bound">A</a> <a id="8784" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="8786" href="../Isomorphism/#8755" class="Bound">A</a>
  <a id="8790" href="../Isomorphism/#8790" class="Bound">A</a> <a id="8792" href="../Isomorphism/#8745" class="Function Operator">≃-∎</a> <a id="8796" class="Symbol">=</a> <a id="8798" href="../Isomorphism/#6451" class="Function">≃-refl</a>

<a id="8806" class="Keyword">open</a> <a id="8811" href="../Isomorphism/#8466" class="Module">≃-Reasoning</a>
</pre>
<h2 id="embedding">Embedding</h2>
<p>We also need the notion of <em>embedding</em>, which is a weakening of isomorphism. While an isomorphism shows that two types are in one-to-one correspondence, an embedding shows that the first type is included in the second; or, equivalently, that there is a many-to-one correspondence between the second type and the first.</p>
Here is the formal definition of embedding:
<pre class="Agda"><a id="9212" class="Keyword">infix</a> <a id="9218" class="Number">0</a> <a id="9220" href="../Isomorphism/#9231" class="Record Operator">_≲_</a>
<a id="9224" class="Keyword">record</a> <a id="_≲_"></a><a id="9231" href="../Isomorphism/#9231" class="Record Operator">_≲_</a> <a id="9235" class="Symbol">(</a><a id="9236" href="../Isomorphism/#9236" class="Bound">A</a> <a id="9238" href="../Isomorphism/#9238" class="Bound">B</a> <a id="9240" class="Symbol">:</a> <a id="9242" class="PrimitiveType">Set</a><a id="9245" class="Symbol">)</a> <a id="9247" class="Symbol">:</a> <a id="9249" class="PrimitiveType">Set</a> <a id="9253" class="Keyword">where</a>
  <a id="9261" class="Keyword">field</a>
    <a id="_≲_.to"></a><a id="9271" href="../Isomorphism/#9271" class="Field">to</a>      <a id="9279" class="Symbol">:</a> <a id="9281" href="../Isomorphism/#9236" class="Bound">A</a> <a id="9283" class="Symbol">→</a> <a id="9285" href="../Isomorphism/#9238" class="Bound">B</a>
    <a id="_≲_.from"></a><a id="9291" href="../Isomorphism/#9291" class="Field">from</a>    <a id="9299" class="Symbol">:</a> <a id="9301" href="../Isomorphism/#9238" class="Bound">B</a> <a id="9303" class="Symbol">→</a> <a id="9305" href="../Isomorphism/#9236" class="Bound">A</a>
    <a id="_≲_.from∘to"></a><a id="9311" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="9319" class="Symbol">:</a> <a id="9321" class="Symbol">∀</a> <a id="9323" class="Symbol">(</a><a id="9324" href="../Isomorphism/#9324" class="Bound">x</a> <a id="9326" class="Symbol">:</a> <a id="9328" href="../Isomorphism/#9236" class="Bound">A</a><a id="9329" class="Symbol">)</a> <a id="9331" class="Symbol">→</a> <a id="9333" class="Field">from</a> <a id="9338" class="Symbol">(</a><a id="9339" class="Field">to</a> <a id="9342" href="../Isomorphism/#9324" class="Bound">x</a><a id="9343" class="Symbol">)</a> <a id="9345" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9347" href="../Isomorphism/#9324" class="Bound">x</a>
<a id="9349" class="Keyword">open</a> <a id="9354" href="../Isomorphism/#9231" class="Module Operator">_≲_</a>
</pre>
<p>It is the same as an isomorphism, save that it lacks the <code>to∘from</code> field. Hence, we know that <code>from</code> is left-inverse to <code>to</code>, but not that <code>from</code> is right-inverse to <code>to</code>.</p>
Embedding is reflexive and transitive, but not symmetric. The proofs are cut down versions of the similar proofs for isomorphism:
<pre class="Agda"><a id="≲-refl"></a><a id="9670" href="../Isomorphism/#9670" class="Function">≲-refl</a> <a id="9677" class="Symbol">:</a> <a id="9679" class="Symbol">∀</a> <a id="9681" class="Symbol">{</a><a id="9682" href="../Isomorphism/#9682" class="Bound">A</a> <a id="9684" class="Symbol">:</a> <a id="9686" class="PrimitiveType">Set</a><a id="9689" class="Symbol">}</a> <a id="9691" class="Symbol">→</a> <a id="9693" href="../Isomorphism/#9682" class="Bound">A</a> <a id="9695" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="9697" href="../Isomorphism/#9682" class="Bound">A</a>
<a id="9699" href="../Isomorphism/#9670" class="Function">≲-refl</a> <a id="9706" class="Symbol">=</a>
  <a id="9710" class="Keyword">record</a>
    <a id="9721" class="Symbol">{</a> <a id="9723" href="../Isomorphism/#9271" class="Field">to</a>      <a id="9731" class="Symbol">=</a> <a id="9733" class="Symbol">λ{</a><a id="9735" href="../Isomorphism/#9735" class="Bound">x</a> <a id="9737" class="Symbol">→</a> <a id="9739" href="../Isomorphism/#9735" class="Bound">x</a><a id="9740" class="Symbol">}</a>
    <a id="9746" class="Symbol">;</a> <a id="9748" href="../Isomorphism/#9291" class="Field">from</a>    <a id="9756" class="Symbol">=</a> <a id="9758" class="Symbol">λ{</a><a id="9760" href="../Isomorphism/#9760" class="Bound">y</a> <a id="9762" class="Symbol">→</a> <a id="9764" href="../Isomorphism/#9760" class="Bound">y</a><a id="9765" class="Symbol">}</a>
    <a id="9771" class="Symbol">;</a> <a id="9773" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="9781" class="Symbol">=</a> <a id="9783" class="Symbol">λ{</a><a id="9785" href="../Isomorphism/#9785" class="Bound">x</a> <a id="9787" class="Symbol">→</a> <a id="9789" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="9793" class="Symbol">}</a>
    <a id="9799" class="Symbol">}</a>

<a id="≲-trans"></a><a id="9802" href="../Isomorphism/#9802" class="Function">≲-trans</a> <a id="9810" class="Symbol">:</a> <a id="9812" class="Symbol">∀</a> <a id="9814" class="Symbol">{</a><a id="9815" href="../Isomorphism/#9815" class="Bound">A</a> <a id="9817" href="../Isomorphism/#9817" class="Bound">B</a> <a id="9819" href="../Isomorphism/#9819" class="Bound">C</a> <a id="9821" class="Symbol">:</a> <a id="9823" class="PrimitiveType">Set</a><a id="9826" class="Symbol">}</a> <a id="9828" class="Symbol">→</a> <a id="9830" href="../Isomorphism/#9815" class="Bound">A</a> <a id="9832" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="9834" href="../Isomorphism/#9817" class="Bound">B</a> <a id="9836" class="Symbol">→</a> <a id="9838" href="../Isomorphism/#9817" class="Bound">B</a> <a id="9840" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="9842" href="../Isomorphism/#9819" class="Bound">C</a> <a id="9844" class="Symbol">→</a> <a id="9846" href="../Isomorphism/#9815" class="Bound">A</a> <a id="9848" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="9850" href="../Isomorphism/#9819" class="Bound">C</a>
<a id="9852" href="../Isomorphism/#9802" class="Function">≲-trans</a> <a id="9860" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="9864" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="9868" class="Symbol">=</a>
  <a id="9872" class="Keyword">record</a>
    <a id="9883" class="Symbol">{</a> <a id="9885" href="../Isomorphism/#9271" class="Field">to</a>      <a id="9893" class="Symbol">=</a> <a id="9895" class="Symbol">λ{</a><a id="9897" href="../Isomorphism/#9897" class="Bound">x</a> <a id="9899" class="Symbol">→</a> <a id="9901" href="../Isomorphism/#9271" class="Field">to</a>   <a id="9906" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="9910" class="Symbol">(</a><a id="9911" href="../Isomorphism/#9271" class="Field">to</a>   <a id="9916" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="9920" href="../Isomorphism/#9897" class="Bound">x</a><a id="9921" class="Symbol">)}</a>
    <a id="9928" class="Symbol">;</a> <a id="9930" href="../Isomorphism/#9291" class="Field">from</a>    <a id="9938" class="Symbol">=</a> <a id="9940" class="Symbol">λ{</a><a id="9942" href="../Isomorphism/#9942" class="Bound">y</a> <a id="9944" class="Symbol">→</a> <a id="9946" href="../Isomorphism/#9291" class="Field">from</a> <a id="9951" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="9955" class="Symbol">(</a><a id="9956" href="../Isomorphism/#9291" class="Field">from</a> <a id="9961" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="9965" href="../Isomorphism/#9942" class="Bound">y</a><a id="9966" class="Symbol">)}</a>
    <a id="9973" class="Symbol">;</a> <a id="9975" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="9983" class="Symbol">=</a> <a id="9985" class="Symbol">λ{</a><a id="9987" href="../Isomorphism/#9987" class="Bound">x</a> <a id="9989" class="Symbol">→</a>
        <a id="9999" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
          <a id="10015" href="../Isomorphism/#9291" class="Field">from</a> <a id="10020" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10024" class="Symbol">(</a><a id="10025" href="../Isomorphism/#9291" class="Field">from</a> <a id="10030" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="10034" class="Symbol">(</a><a id="10035" href="../Isomorphism/#9271" class="Field">to</a> <a id="10038" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="10042" class="Symbol">(</a><a id="10043" href="../Isomorphism/#9271" class="Field">to</a> <a id="10046" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10050" href="../Isomorphism/#9987" class="Bound">x</a><a id="10051" class="Symbol">)))</a>
        <a id="10063" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10066" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="10071" class="Symbol">(</a><a id="10072" href="../Isomorphism/#9291" class="Field">from</a> <a id="10077" href="../Isomorphism/#9860" class="Bound">A≲B</a><a id="10080" class="Symbol">)</a> <a id="10082" class="Symbol">(</a><a id="10083" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="10091" href="../Isomorphism/#9864" class="Bound">B≲C</a> <a id="10095" class="Symbol">(</a><a id="10096" href="../Isomorphism/#9271" class="Field">to</a> <a id="10099" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10103" href="../Isomorphism/#9987" class="Bound">x</a><a id="10104" class="Symbol">))</a> <a id="10107" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="10119" href="../Isomorphism/#9291" class="Field">from</a> <a id="10124" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10128" class="Symbol">(</a><a id="10129" href="../Isomorphism/#9271" class="Field">to</a> <a id="10132" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10136" href="../Isomorphism/#9987" class="Bound">x</a><a id="10137" class="Symbol">)</a>
        <a id="10147" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10150" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="10158" href="../Isomorphism/#9860" class="Bound">A≲B</a> <a id="10162" href="../Isomorphism/#9987" class="Bound">x</a> <a id="10164" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="10176" href="../Isomorphism/#9987" class="Bound">x</a>
        <a id="10186" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a><a id="10187" class="Symbol">}</a>
     <a id="10194" class="Symbol">}</a>
</pre>
It is also easy to see that if two types embed in each other, and the embedding functions correspond, then they are isomorphic. This is a weak form of anti-symmetry:
<pre class="Agda"><a id="≲-antisym"></a><a id="10372" href="../Isomorphism/#10372" class="Function">≲-antisym</a> <a id="10382" class="Symbol">:</a> <a id="10384" class="Symbol">∀</a> <a id="10386" class="Symbol">{</a><a id="10387" href="../Isomorphism/#10387" class="Bound">A</a> <a id="10389" href="../Isomorphism/#10389" class="Bound">B</a> <a id="10391" class="Symbol">:</a> <a id="10393" class="PrimitiveType">Set</a><a id="10396" class="Symbol">}</a>
  <a id="10400" class="Symbol">→</a> <a id="10402" class="Symbol">(</a><a id="10403" href="../Isomorphism/#10403" class="Bound">A≲B</a> <a id="10407" class="Symbol">:</a> <a id="10409" href="../Isomorphism/#10387" class="Bound">A</a> <a id="10411" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="10413" href="../Isomorphism/#10389" class="Bound">B</a><a id="10414" class="Symbol">)</a>
  <a id="10418" class="Symbol">→</a> <a id="10420" class="Symbol">(</a><a id="10421" href="../Isomorphism/#10421" class="Bound">B≲A</a> <a id="10425" class="Symbol">:</a> <a id="10427" href="../Isomorphism/#10389" class="Bound">B</a> <a id="10429" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="10431" href="../Isomorphism/#10387" class="Bound">A</a><a id="10432" class="Symbol">)</a>
  <a id="10436" class="Symbol">→</a> <a id="10438" class="Symbol">(</a><a id="10439" href="../Isomorphism/#9271" class="Field">to</a> <a id="10442" href="../Isomorphism/#10403" class="Bound">A≲B</a> <a id="10446" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10448" href="../Isomorphism/#9291" class="Field">from</a> <a id="10453" href="../Isomorphism/#10421" class="Bound">B≲A</a><a id="10456" class="Symbol">)</a>
  <a id="10460" class="Symbol">→</a> <a id="10462" class="Symbol">(</a><a id="10463" href="../Isomorphism/#9291" class="Field">from</a> <a id="10468" href="../Isomorphism/#10403" class="Bound">A≲B</a> <a id="10472" href="https://agda.github.io/agda-stdlib/v1.6/Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="10474" href="../Isomorphism/#9271" class="Field">to</a> <a id="10477" href="../Isomorphism/#10421" class="Bound">B≲A</a><a id="10480" class="Symbol">)</a>
    <a id="10486" class="Comment">-------------------</a>
  <a id="10508" class="Symbol">→</a> <a id="10510" href="../Isomorphism/#10387" class="Bound">A</a> <a id="10512" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="10514" href="../Isomorphism/#10389" class="Bound">B</a>
<a id="10516" href="../Isomorphism/#10372" class="Function">≲-antisym</a> <a id="10526" href="../Isomorphism/#10526" class="Bound">A≲B</a> <a id="10530" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10534" href="../Isomorphism/#10534" class="Bound">to≡from</a> <a id="10542" href="../Isomorphism/#10542" class="Bound">from≡to</a> <a id="10550" class="Symbol">=</a>
  <a id="10554" class="Keyword">record</a>
    <a id="10565" class="Symbol">{</a> <a id="10567" href="../Isomorphism/#4373" class="Field">to</a>      <a id="10575" class="Symbol">=</a> <a id="10577" href="../Isomorphism/#9271" class="Field">to</a> <a id="10580" href="../Isomorphism/#10526" class="Bound">A≲B</a>
    <a id="10588" class="Symbol">;</a> <a id="10590" href="../Isomorphism/#4390" class="Field">from</a>    <a id="10598" class="Symbol">=</a> <a id="10600" href="../Isomorphism/#9291" class="Field">from</a> <a id="10605" href="../Isomorphism/#10526" class="Bound">A≲B</a>
    <a id="10613" class="Symbol">;</a> <a id="10615" href="../Isomorphism/#4407" class="Field">from∘to</a> <a id="10623" class="Symbol">=</a> <a id="10625" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="10633" href="../Isomorphism/#10526" class="Bound">A≲B</a>
    <a id="10641" class="Symbol">;</a> <a id="10643" href="../Isomorphism/#4449" class="Field">to∘from</a> <a id="10651" class="Symbol">=</a> <a id="10653" class="Symbol">λ{</a><a id="10655" href="../Isomorphism/#10655" class="Bound">y</a> <a id="10657" class="Symbol">→</a>
        <a id="10667" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2806" class="Function Operator">begin</a>
          <a id="10683" href="../Isomorphism/#9271" class="Field">to</a> <a id="10686" href="../Isomorphism/#10526" class="Bound">A≲B</a> <a id="10690" class="Symbol">(</a><a id="10691" href="../Isomorphism/#9291" class="Field">from</a> <a id="10696" href="../Isomorphism/#10526" class="Bound">A≲B</a> <a id="10700" href="../Isomorphism/#10655" class="Bound">y</a><a id="10701" class="Symbol">)</a>
        <a id="10711" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10714" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a> <a id="10719" class="Symbol">(</a><a id="10720" href="../Isomorphism/#9271" class="Field">to</a> <a id="10723" href="../Isomorphism/#10526" class="Bound">A≲B</a><a id="10726" class="Symbol">)</a> <a id="10728" class="Symbol">(</a><a id="10729" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="10738" href="../Isomorphism/#10542" class="Bound">from≡to</a> <a id="10746" href="../Isomorphism/#10655" class="Bound">y</a><a id="10747" class="Symbol">)</a> <a id="10749" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="10761" href="../Isomorphism/#9271" class="Field">to</a> <a id="10764" href="../Isomorphism/#10526" class="Bound">A≲B</a> <a id="10768" class="Symbol">(</a><a id="10769" href="../Isomorphism/#9271" class="Field">to</a> <a id="10772" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10776" href="../Isomorphism/#10655" class="Bound">y</a><a id="10777" class="Symbol">)</a>
        <a id="10787" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10790" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#1461" class="Function">cong-app</a> <a id="10799" href="../Isomorphism/#10534" class="Bound">to≡from</a> <a id="10807" class="Symbol">(</a><a id="10808" href="../Isomorphism/#9271" class="Field">to</a> <a id="10811" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10815" href="../Isomorphism/#10655" class="Bound">y</a><a id="10816" class="Symbol">)</a> <a id="10818" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="10830" href="../Isomorphism/#9291" class="Field">from</a> <a id="10835" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10839" class="Symbol">(</a><a id="10840" href="../Isomorphism/#9271" class="Field">to</a> <a id="10843" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10847" href="../Isomorphism/#10655" class="Bound">y</a><a id="10848" class="Symbol">)</a>
        <a id="10858" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">≡⟨</a> <a id="10861" href="../Isomorphism/#9311" class="Field">from∘to</a> <a id="10869" href="../Isomorphism/#10530" class="Bound">B≲A</a> <a id="10873" href="../Isomorphism/#10655" class="Bound">y</a> <a id="10875" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#2923" class="Function">⟩</a>
          <a id="10887" href="../Isomorphism/#10655" class="Bound">y</a>
        <a id="10897" href="https://agda.github.io/agda-stdlib/v1.6/Relation.Binary.PropositionalEquality.Core.html#3105" class="Function Operator">∎</a><a id="10898" class="Symbol">}</a>
    <a id="10904" class="Symbol">}</a>
</pre>
<p>The first three components are copied from the embedding, while the last combines the left inverse of <code>B ≲ A</code> with the equivalences of the <code>to</code> and <code>from</code> components from the two embeddings to obtain the right inverse of the isomorphism.</p>
<h2 id="equational-reasoning-for-embedding">Equational reasoning for embedding</h2>
<p>We can also support tabular reasoning for embedding, analogous to that used for isomorphism:</p>
<pre class="Agda"><a id="11286" class="Keyword">module</a> <a id="≲-Reasoning"></a><a id="11293" href="../Isomorphism/#11293" class="Module">≲-Reasoning</a> <a id="11305" class="Keyword">where</a>

  <a id="11314" class="Keyword">infix</a>  <a id="11321" class="Number">1</a> <a id="11323" href="../Isomorphism/#11369" class="Function Operator">≲-begin_</a>
  <a id="11334" class="Keyword">infixr</a> <a id="11341" class="Number">2</a> <a id="11343" href="../Isomorphism/#11453" class="Function Operator">_≲⟨_⟩_</a>
  <a id="11352" class="Keyword">infix</a>  <a id="11359" class="Number">3</a> <a id="11361" href="../Isomorphism/#11572" class="Function Operator">_≲-∎</a>

  <a id="≲-Reasoning.≲-begin_"></a><a id="11369" href="../Isomorphism/#11369" class="Function Operator">≲-begin_</a> <a id="11378" class="Symbol">:</a> <a id="11380" class="Symbol">∀</a> <a id="11382" class="Symbol">{</a><a id="11383" href="../Isomorphism/#11383" class="Bound">A</a> <a id="11385" href="../Isomorphism/#11385" class="Bound">B</a> <a id="11387" class="Symbol">:</a> <a id="11389" class="PrimitiveType">Set</a><a id="11392" class="Symbol">}</a>
    <a id="11398" class="Symbol">→</a> <a id="11400" href="../Isomorphism/#11383" class="Bound">A</a> <a id="11402" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11404" href="../Isomorphism/#11385" class="Bound">B</a>
      <a id="11412" class="Comment">-----</a>
    <a id="11422" class="Symbol">→</a> <a id="11424" href="../Isomorphism/#11383" class="Bound">A</a> <a id="11426" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11428" href="../Isomorphism/#11385" class="Bound">B</a>
  <a id="11432" href="../Isomorphism/#11369" class="Function Operator">≲-begin</a> <a id="11440" href="../Isomorphism/#11440" class="Bound">A≲B</a> <a id="11444" class="Symbol">=</a> <a id="11446" href="../Isomorphism/#11440" class="Bound">A≲B</a>

  <a id="≲-Reasoning._≲⟨_⟩_"></a><a id="11453" href="../Isomorphism/#11453" class="Function Operator">_≲⟨_⟩_</a> <a id="11460" class="Symbol">:</a> <a id="11462" class="Symbol">∀</a> <a id="11464" class="Symbol">(</a><a id="11465" href="../Isomorphism/#11465" class="Bound">A</a> <a id="11467" class="Symbol">:</a> <a id="11469" class="PrimitiveType">Set</a><a id="11472" class="Symbol">)</a> <a id="11474" class="Symbol">{</a><a id="11475" href="../Isomorphism/#11475" class="Bound">B</a> <a id="11477" href="../Isomorphism/#11477" class="Bound">C</a> <a id="11479" class="Symbol">:</a> <a id="11481" class="PrimitiveType">Set</a><a id="11484" class="Symbol">}</a>
    <a id="11490" class="Symbol">→</a> <a id="11492" href="../Isomorphism/#11465" class="Bound">A</a> <a id="11494" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11496" href="../Isomorphism/#11475" class="Bound">B</a>
    <a id="11502" class="Symbol">→</a> <a id="11504" href="../Isomorphism/#11475" class="Bound">B</a> <a id="11506" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11508" href="../Isomorphism/#11477" class="Bound">C</a>
      <a id="11516" class="Comment">-----</a>
    <a id="11526" class="Symbol">→</a> <a id="11528" href="../Isomorphism/#11465" class="Bound">A</a> <a id="11530" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11532" href="../Isomorphism/#11477" class="Bound">C</a>
  <a id="11536" href="../Isomorphism/#11536" class="Bound">A</a> <a id="11538" href="../Isomorphism/#11453" class="Function Operator">≲⟨</a> <a id="11541" href="../Isomorphism/#11541" class="Bound">A≲B</a> <a id="11545" href="../Isomorphism/#11453" class="Function Operator">⟩</a> <a id="11547" href="../Isomorphism/#11547" class="Bound">B≲C</a> <a id="11551" class="Symbol">=</a> <a id="11553" href="../Isomorphism/#9802" class="Function">≲-trans</a> <a id="11561" href="../Isomorphism/#11541" class="Bound">A≲B</a> <a id="11565" href="../Isomorphism/#11547" class="Bound">B≲C</a>

  <a id="≲-Reasoning._≲-∎"></a><a id="11572" href="../Isomorphism/#11572" class="Function Operator">_≲-∎</a> <a id="11577" class="Symbol">:</a> <a id="11579" class="Symbol">∀</a> <a id="11581" class="Symbol">(</a><a id="11582" href="../Isomorphism/#11582" class="Bound">A</a> <a id="11584" class="Symbol">:</a> <a id="11586" class="PrimitiveType">Set</a><a id="11589" class="Symbol">)</a>
      <a id="11597" class="Comment">-----</a>
    <a id="11607" class="Symbol">→</a> <a id="11609" href="../Isomorphism/#11582" class="Bound">A</a> <a id="11611" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11613" href="../Isomorphism/#11582" class="Bound">A</a>
  <a id="11617" href="../Isomorphism/#11617" class="Bound">A</a> <a id="11619" href="../Isomorphism/#11572" class="Function Operator">≲-∎</a> <a id="11623" class="Symbol">=</a> <a id="11625" href="../Isomorphism/#9670" class="Function">≲-refl</a>

<a id="11633" class="Keyword">open</a> <a id="11638" href="../Isomorphism/#11293" class="Module">≲-Reasoning</a>
</pre>
<h4 id="exercise--implies--practice">Exercise <code>≃-implies-≲</code> (practice)</h4>
Show that every isomorphism implies an embedding.
<pre class="Agda"><a id="11749" class="Keyword">postulate</a>
  <a id="≃-implies-≲"></a><a id="11761" href="../Isomorphism/#11761" class="Postulate">≃-implies-≲</a> <a id="11773" class="Symbol">:</a> <a id="11775" class="Symbol">∀</a> <a id="11777" class="Symbol">{</a><a id="11778" href="../Isomorphism/#11778" class="Bound">A</a> <a id="11780" href="../Isomorphism/#11780" class="Bound">B</a> <a id="11782" class="Symbol">:</a> <a id="11784" class="PrimitiveType">Set</a><a id="11787" class="Symbol">}</a>
    <a id="11793" class="Symbol">→</a> <a id="11795" href="../Isomorphism/#11778" class="Bound">A</a> <a id="11797" href="../Isomorphism/#4333" class="Record Operator">≃</a> <a id="11799" href="../Isomorphism/#11780" class="Bound">B</a>
      <a id="11807" class="Comment">-----</a>
    <a id="11817" class="Symbol">→</a> <a id="11819" href="../Isomorphism/#11778" class="Bound">A</a> <a id="11821" href="../Isomorphism/#9231" class="Record Operator">≲</a> <a id="11823" href="../Isomorphism/#11780" class="Bound">B</a>
</pre>
<pre class="Agda"><a id="11834" class="Comment">-- Your code goes here</a>
</pre>
<h4 name="iff" id="exercise-__-practice">Exercise <code>_⇔_</code> (practice)</h4>
Define equivalence of propositions (also known as “if and only if”) as follows:
<pre class="Agda"><a id="11989" class="Keyword">record</a> <a id="_⇔_"></a><a id="11996" href="../Isomorphism/#11996" class="Record Operator">_⇔_</a> <a id="12000" class="Symbol">(</a><a id="12001" href="../Isomorphism/#12001" class="Bound">A</a> <a id="12003" href="../Isomorphism/#12003" class="Bound">B</a> <a id="12005" class="Symbol">:</a> <a id="12007" class="PrimitiveType">Set</a><a id="12010" class="Symbol">)</a> <a id="12012" class="Symbol">:</a> <a id="12014" class="PrimitiveType">Set</a> <a id="12018" class="Keyword">where</a>
  <a id="12026" class="Keyword">field</a>
    <a id="_⇔_.to"></a><a id="12036" href="../Isomorphism/#12036" class="Field">to</a>   <a id="12041" class="Symbol">:</a> <a id="12043" href="../Isomorphism/#12001" class="Bound">A</a> <a id="12045" class="Symbol">→</a> <a id="12047" href="../Isomorphism/#12003" class="Bound">B</a>
    <a id="_⇔_.from"></a><a id="12053" href="../Isomorphism/#12053" class="Field">from</a> <a id="12058" class="Symbol">:</a> <a id="12060" href="../Isomorphism/#12003" class="Bound">B</a> <a id="12062" class="Symbol">→</a> <a id="12064" href="../Isomorphism/#12001" class="Bound">A</a>
</pre>
<p>Show that equivalence is reflexive, symmetric, and transitive.</p>
<pre class="Agda"><a id="12138" class="Comment">-- Your code goes here</a>
</pre>
<h4 name="Bin-embedding" id="exercise-bin-embedding-stretch">Exercise <code>Bin-embedding</code> (stretch)</h4>
<p>Recall that Exercises <a href="../Naturals/#Bin">Bin</a> and <a href="../Induction/#Bin-laws">Bin-laws</a> define a datatype <code>Bin</code> of bitstrings representing natural numbers, and asks you to define the following functions and predicates:</p>
<pre><code>to : ℕ → Bin
from : Bin → ℕ</code></pre>
<p>which satisfy the following property:</p>
<pre><code>from (to n) ≡ n</code></pre>
Using the above, establish that there is an embedding of <code>ℕ</code> into <code>Bin</code>.
<pre class="Agda"><a id="12615" class="Comment">-- Your code goes here</a>
</pre>
<p>Why do <code>to</code> and <code>from</code> not form an isomorphism?</p>
<h2 id="standard-library">Standard library</h2>
Definitions similar to those in this chapter can be found in the standard library:
<pre class="Agda"><a id="12800" class="Keyword">import</a> <a id="12807" href="https://agda.github.io/agda-stdlib/v1.6/Function.html" class="Module">Function</a> <a id="12816" class="Keyword">using</a> <a id="12822" class="Symbol">(</a><a id="12823" href="https://agda.github.io/agda-stdlib/v1.6/Function.Base.html#1031" class="Function Operator">_∘_</a><a id="12826" class="Symbol">)</a>
<a id="12828" class="Keyword">import</a> <a id="12835" href="https://agda.github.io/agda-stdlib/v1.6/Function.Inverse.html" class="Module">Function.Inverse</a> <a id="12852" class="Keyword">using</a> <a id="12858" class="Symbol">(</a><a id="12859" href="https://agda.github.io/agda-stdlib/v1.6/Function.Inverse.html#2457" class="Function Operator">_↔_</a><a id="12862" class="Symbol">)</a>
<a id="12864" class="Keyword">import</a> <a id="12871" href="https://agda.github.io/agda-stdlib/v1.6/Function.LeftInverse.html" class="Module">Function.LeftInverse</a> <a id="12892" class="Keyword">using</a> <a id="12898" class="Symbol">(</a><a id="12899" href="https://agda.github.io/agda-stdlib/v1.6/Function.LeftInverse.html#2913" class="Function Operator">_↞_</a><a id="12902" class="Symbol">)</a>
</pre>
<p>The standard library <code>_↔︎_</code> and <code>_↞_</code> correspond to our <code>_≃_</code> and <code>_≲_</code>, respectively, but those in the standard library are less convenient, since they depend on a nested record structure and are parameterised with regard to an arbitrary notion of equivalence.</p>
<h2 id="unicode">Unicode</h2>
<p>This chapter uses the following unicode:</p>
<pre><code>∘  U+2218  RING OPERATOR (\o, \circ, \comp)
λ  U+03BB  GREEK SMALL LETTER LAMBDA (\lambda, \Gl)
≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~-)
≲  U+2272  LESS-THAN OR EQUIVALENT TO (\&lt;~)
⇔  U+21D4  LEFT RIGHT DOUBLE ARROW (\&lt;=&gt;)</code></pre>
    </div>
    <nav class="pager">
    <ul class="pagination">
        
        <li><a class="pagelink" href="../Equality/">Prev</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/part1/Isomorphism.lagda.md">Source</a></li>
        <li class="separator">&bullet;</li>
        
        
        <li><a class="pagelink" href="../Connectives/">Next</a></li>
        <li class="separator">&bullet;</li>
        
    </ul>
</nav>

</article>

            </div>
        </main>
        <footer class="site-footer h-card">
    <data class="u-url" href="../"></data>
    <div class="wrapper">
        <h2 class="footer-heading">Programming Language Foundations in Agda</h2>
        
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Philip Wadler</li>
                    <li>
                        
                        <a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/wadler" title="wadler"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;wadler</a></li>
    
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Wen Kokke</li>
                    <li>
                        
                        <a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;wenkokke</a></li>
    
    
    <li><a rel="me" href="https://twitter.com/wenkokke" title="wenkokke"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#twitter"></use></svg>&nbsp;wenkokke</a></li>
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Jeremy G. Siek</li>
                    <li>
                        
                        <a class="u-email" href="mailto:jsiek@indiana.edu">jsiek@indiana.edu</a>
                        
                    </li>
                </ul>
            </div>
            <div class="footer-col footer-col-2">
                <ul class="social-media-list">
    
    <li><a rel="me" href="https://github.com/jsiek" title="jsiek"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#github"></use></svg>&nbsp;jsiek</a></li>
    
    
    <li><a rel="me" href="https://twitter.com/jeremysiek" title="jeremysiek"><svg class="svg-icon grey"><use xlink:href="/public/minima-social-icons.svg#twitter"></use></svg>&nbsp;jeremysiek</a></li>
    
</ul>

            </div>
            <div class="footer-col footer-col-3">
                
            </div>
        </div>
        
        
        This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
    </div>
</footer>

    </body>
</html>
